2025-09-05 17:39:40,983 [main] INFO  com.gym.crm.CrmApplicationTests - [] [] Starting CrmApplicationTests using Java 23.0.1 with PID 21820 (started by marlenseiitzhan in /Users/marlenseiitzhan/Desktop/JAVA projects/crm)
2025-09-05 17:39:40,984 [main] DEBUG com.gym.crm.CrmApplicationTests - [] [] Running with Spring Boot v3.5.3, Spring v6.2.8
2025-09-05 17:39:40,984 [main] INFO  com.gym.crm.CrmApplicationTests - [] [] The following 1 profile is active: "local"
2025-09-05 17:39:41,457 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - [] [] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-05 17:39:41,487 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - [] [] Finished Spring Data repository scanning in 25 ms. Found 5 JPA repository interfaces.
2025-09-05 17:39:41,851 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - [] [] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-05 17:39:41,863 [main] INFO  com.zaxxer.hikari.HikariDataSource - [] [] HikariPool-1 - Starting...
2025-09-05 17:39:41,936 [main] INFO  com.zaxxer.hikari.pool.HikariPool - [] [] HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:gymcrm-local user=SA
2025-09-05 17:39:41,937 [main] INFO  com.zaxxer.hikari.HikariDataSource - [] [] HikariPool-1 - Start completed.
2025-09-05 17:39:41,950 [main] WARN  org.hibernate.orm.deprecation - [] [] HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-05 17:39:42,364 [main] DEBUG org.hibernate.SQL - [] [] 
    create global temporary table HTE_users(date_of_birth date, is_active boolean, HTE_IDENTITY bigint generated 
by
    default as identity, id bigint, address varchar(255), first_name varchar(255), last_name varchar(255), password varchar(255), username varchar(255), primary key (HTE_IDENTITY)) TRANSACTIONAL
2025-09-05 17:39:42,370 [main] DEBUG org.hibernate.SQL - [] [] 
    create global temporary table HT_trainers(id bigint not null, primary key (id)) TRANSACTIONAL
2025-09-05 17:39:42,371 [main] DEBUG org.hibernate.SQL - [] [] 
    create global temporary table HTE_trainers(is_active boolean, HTE_IDENTITY bigint generated 
by
    default as identity, id bigint, specialization_id bigint, first_name varchar(255), last_name varchar(255), password varchar(255), username varchar(255), primary key (HTE_IDENTITY)) TRANSACTIONAL
2025-09-05 17:39:42,372 [main] DEBUG org.hibernate.SQL - [] [] 
    create global temporary table HT_trainees(id bigint not null, primary key (id)) TRANSACTIONAL
2025-09-05 17:39:42,372 [main] DEBUG org.hibernate.SQL - [] [] 
    create global temporary table HTE_trainees(date_of_birth date, is_active boolean, HTE_IDENTITY bigint generated 
by
    default as identity, id bigint, address varchar(255), first_name varchar(255), last_name varchar(255), password varchar(255), username varchar(255), primary key (HTE_IDENTITY)) TRANSACTIONAL
2025-09-05 17:39:42,373 [main] DEBUG org.hibernate.SQL - [] [] 
    create global temporary table HT_users(id bigint not null, primary key (id)) TRANSACTIONAL
2025-09-05 17:39:42,438 [main] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists trainee_trainer cascade 
2025-09-05 17:39:42,439 [main] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists trainees cascade 
2025-09-05 17:39:42,439 [main] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists trainers cascade 
2025-09-05 17:39:42,439 [main] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists training_types cascade 
2025-09-05 17:39:42,439 [main] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists trainings cascade 
2025-09-05 17:39:42,439 [main] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists users cascade 
2025-09-05 17:39:42,444 [main] DEBUG org.hibernate.SQL - [] [] 
    create table trainee_trainer (
        trainee_id bigint not null,
        trainer_id bigint not null,
        primary key (trainee_id, trainer_id)
    )
2025-09-05 17:39:42,445 [main] DEBUG org.hibernate.SQL - [] [] 
    create table trainees (
        date_of_birth date,
        id bigint not null,
        address varchar(255),
        primary key (id)
    )
2025-09-05 17:39:42,446 [main] DEBUG org.hibernate.SQL - [] [] 
    create table trainers (
        id bigint not null,
        specialization_id bigint not null,
        primary key (id)
    )
2025-09-05 17:39:42,447 [main] DEBUG org.hibernate.SQL - [] [] 
    create table training_types (
        id bigint generated by default as identity,
        training_type_name varchar(255) not null unique,
        primary key (id)
    )
2025-09-05 17:39:42,448 [main] DEBUG org.hibernate.SQL - [] [] 
    create table trainings (
        training_date date not null,
        training_duration integer not null,
        id bigint generated by default as identity,
        trainee_id bigint not null,
        trainer_id bigint not null,
        training_type_id bigint not null,
        training_name varchar(255) not null,
        primary key (id)
    )
2025-09-05 17:39:42,448 [main] DEBUG org.hibernate.SQL - [] [] 
    create table users (
        is_active boolean not null,
        id bigint generated by default as identity,
        first_name varchar(255) not null,
        last_name varchar(255) not null,
        password varchar(255) not null,
        username varchar(255) not null unique,
        primary key (id)
    )
2025-09-05 17:39:42,449 [main] DEBUG org.hibernate.SQL - [] [] 
    alter table if exists trainee_trainer 
       add constraint FKsis342w57b177o84peanydlrp 
       foreign key (trainer_id) 
       references trainers
2025-09-05 17:39:42,455 [main] DEBUG org.hibernate.SQL - [] [] 
    alter table if exists trainee_trainer 
       add constraint FK27f1le516f824l8owvnc4mvs1 
       foreign key (trainee_id) 
       references trainees
2025-09-05 17:39:42,456 [main] DEBUG org.hibernate.SQL - [] [] 
    alter table if exists trainees 
       add constraint FKmmcvdm376irbqxxp23un1f1sb 
       foreign key (id) 
       references users
2025-09-05 17:39:42,457 [main] DEBUG org.hibernate.SQL - [] [] 
    alter table if exists trainers 
       add constraint FK7cbp7k5ur2e10a5nj424nu1tv 
       foreign key (specialization_id) 
       references training_types
2025-09-05 17:39:42,457 [main] DEBUG org.hibernate.SQL - [] [] 
    alter table if exists trainers 
       add constraint FKfuw99amb6fcrji1245ooioikb 
       foreign key (id) 
       references users
2025-09-05 17:39:42,458 [main] DEBUG org.hibernate.SQL - [] [] 
    alter table if exists trainings 
       add constraint FK4btmw0yu4tbogiw8qi0ewba74 
       foreign key (trainee_id) 
       references trainees
2025-09-05 17:39:42,459 [main] DEBUG org.hibernate.SQL - [] [] 
    alter table if exists trainings 
       add constraint FKbqwj5wievnuonuxv60wg6rr48 
       foreign key (trainer_id) 
       references trainers
2025-09-05 17:39:42,459 [main] DEBUG org.hibernate.SQL - [] [] 
    alter table if exists trainings 
       add constraint FKovn6ewpej7cxhjx55tovddhnj 
       foreign key (training_type_id) 
       references training_types
2025-09-05 17:39:42,462 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - [] [] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-05 17:39:42,615 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - [] [] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-05 17:39:43,341 [main] INFO  com.gym.crm.facade.GymCrmFacade - [] [] GymCrmFacade initialized with all services
2025-09-05 17:39:43,349 [main] INFO  c.g.c.s.DataInitializationService - [] [] Initializing database with training types
2025-09-05 17:39:43,397 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        tt1_0.id,
        tt1_0.training_type_name 
    from
        training_types tt1_0 
    where
        tt1_0.training_type_name=?
2025-09-05 17:39:43,457 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        training_types
        (training_type_name, id) 
    values
        (?, default)
2025-09-05 17:39:43,468 [main] DEBUG c.g.c.s.DataInitializationService - [] [] Created training type: Fitness
2025-09-05 17:39:43,470 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        tt1_0.id,
        tt1_0.training_type_name 
    from
        training_types tt1_0 
    where
        tt1_0.training_type_name=?
2025-09-05 17:39:43,471 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        training_types
        (training_type_name, id) 
    values
        (?, default)
2025-09-05 17:39:43,472 [main] DEBUG c.g.c.s.DataInitializationService - [] [] Created training type: Yoga
2025-09-05 17:39:43,472 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        tt1_0.id,
        tt1_0.training_type_name 
    from
        training_types tt1_0 
    where
        tt1_0.training_type_name=?
2025-09-05 17:39:43,473 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        training_types
        (training_type_name, id) 
    values
        (?, default)
2025-09-05 17:39:43,473 [main] DEBUG c.g.c.s.DataInitializationService - [] [] Created training type: CrossFit
2025-09-05 17:39:43,474 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        tt1_0.id,
        tt1_0.training_type_name 
    from
        training_types tt1_0 
    where
        tt1_0.training_type_name=?
2025-09-05 17:39:43,474 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        training_types
        (training_type_name, id) 
    values
        (?, default)
2025-09-05 17:39:43,475 [main] DEBUG c.g.c.s.DataInitializationService - [] [] Created training type: Pilates
2025-09-05 17:39:43,475 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        tt1_0.id,
        tt1_0.training_type_name 
    from
        training_types tt1_0 
    where
        tt1_0.training_type_name=?
2025-09-05 17:39:43,475 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        training_types
        (training_type_name, id) 
    values
        (?, default)
2025-09-05 17:39:43,476 [main] DEBUG c.g.c.s.DataInitializationService - [] [] Created training type: Cardio
2025-09-05 17:39:43,476 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        tt1_0.id,
        tt1_0.training_type_name 
    from
        training_types tt1_0 
    where
        tt1_0.training_type_name=?
2025-09-05 17:39:43,477 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        training_types
        (training_type_name, id) 
    values
        (?, default)
2025-09-05 17:39:43,478 [main] DEBUG c.g.c.s.DataInitializationService - [] [] Created training type: Strength Training
2025-09-05 17:39:43,478 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        tt1_0.id,
        tt1_0.training_type_name 
    from
        training_types tt1_0 
    where
        tt1_0.training_type_name=?
2025-09-05 17:39:43,479 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        training_types
        (training_type_name, id) 
    values
        (?, default)
2025-09-05 17:39:43,480 [main] DEBUG c.g.c.s.DataInitializationService - [] [] Created training type: Weight Loss
2025-09-05 17:39:43,481 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        tt1_0.id,
        tt1_0.training_type_name 
    from
        training_types tt1_0 
    where
        tt1_0.training_type_name=?
2025-09-05 17:39:43,481 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        training_types
        (training_type_name, id) 
    values
        (?, default)
2025-09-05 17:39:43,482 [main] DEBUG c.g.c.s.DataInitializationService - [] [] Created training type: Muscle Building
2025-09-05 17:39:43,493 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        count(*) 
    from
        training_types tt1_0
2025-09-05 17:39:43,494 [main] INFO  c.g.c.s.DataInitializationService - [] [] Training types initialization completed. Total types: 8
2025-09-05 17:39:43,578 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - [] [] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-05 17:39:43,875 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - [] [] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:gymcrm-local'
2025-09-05 17:39:43,888 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - [] [] Exposing 5 endpoints beneath base path '/actuator'
2025-09-05 17:39:43,925 [main] INFO  com.gym.crm.CrmApplicationTests - [] [] Started CrmApplicationTests in 3.141 seconds (process running for 3.641)
2025-09-05 17:39:44,239 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - [] [] Could not detect default configuration classes for test class [com.gym.crm.metrics.MetricsIntegrationTest]: MetricsIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-05 17:39:44,244 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - [] [] Found @SpringBootConfiguration com.gym.crm.CrmApplication for test class com.gym.crm.metrics.MetricsIntegrationTest
2025-09-05 17:39:44,257 [main] INFO  c.g.c.metrics.MetricsIntegrationTest - [] [] Starting MetricsIntegrationTest using Java 23.0.1 with PID 21820 (started by marlenseiitzhan in /Users/marlenseiitzhan/Desktop/JAVA projects/crm)
2025-09-05 17:39:44,258 [main] INFO  c.g.c.metrics.MetricsIntegrationTest - [] [] The following 1 profile is active: "test"
2025-09-05 17:39:44,361 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - [] [] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-05 17:39:44,367 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - [] [] Finished Spring Data repository scanning in 5 ms. Found 5 JPA repository interfaces.
2025-09-05 17:39:44,406 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - [] [] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-05 17:39:44,407 [main] WARN  org.hibernate.orm.deprecation - [] [] HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-05 17:39:44,430 [main] DEBUG org.hibernate.SQL - [] [] create global temporary table HTE_users(date_of_birth date, is_active boolean, HTE_IDENTITY bigint generated by default as identity, id bigint, address varchar(255), first_name varchar(255), last_name varchar(255), password varchar(255), username varchar(255), primary key (HTE_IDENTITY)) TRANSACTIONAL
2025-09-05 17:39:44,431 [main] DEBUG org.hibernate.SQL - [] [] create global temporary table HT_trainers(id bigint not null, primary key (id)) TRANSACTIONAL
2025-09-05 17:39:44,431 [main] DEBUG org.hibernate.SQL - [] [] create global temporary table HTE_trainers(is_active boolean, HTE_IDENTITY bigint generated by default as identity, id bigint, specialization_id bigint, first_name varchar(255), last_name varchar(255), password varchar(255), username varchar(255), primary key (HTE_IDENTITY)) TRANSACTIONAL
2025-09-05 17:39:44,431 [main] DEBUG org.hibernate.SQL - [] [] create global temporary table HT_trainees(id bigint not null, primary key (id)) TRANSACTIONAL
2025-09-05 17:39:44,432 [main] DEBUG org.hibernate.SQL - [] [] create global temporary table HTE_trainees(date_of_birth date, is_active boolean, HTE_IDENTITY bigint generated by default as identity, id bigint, address varchar(255), first_name varchar(255), last_name varchar(255), password varchar(255), username varchar(255), primary key (HTE_IDENTITY)) TRANSACTIONAL
2025-09-05 17:39:44,432 [main] DEBUG org.hibernate.SQL - [] [] create global temporary table HT_users(id bigint not null, primary key (id)) TRANSACTIONAL
2025-09-05 17:39:44,437 [main] DEBUG org.hibernate.SQL - [] [] drop table if exists trainee_trainer cascade 
2025-09-05 17:39:44,437 [main] DEBUG org.hibernate.SQL - [] [] drop table if exists trainees cascade 
2025-09-05 17:39:44,437 [main] DEBUG org.hibernate.SQL - [] [] drop table if exists trainers cascade 
2025-09-05 17:39:44,437 [main] DEBUG org.hibernate.SQL - [] [] drop table if exists training_types cascade 
2025-09-05 17:39:44,437 [main] DEBUG org.hibernate.SQL - [] [] drop table if exists trainings cascade 
2025-09-05 17:39:44,437 [main] DEBUG org.hibernate.SQL - [] [] drop table if exists users cascade 
2025-09-05 17:39:44,437 [main] DEBUG org.hibernate.SQL - [] [] create table trainee_trainer (trainee_id bigint not null, trainer_id bigint not null, primary key (trainee_id, trainer_id))
2025-09-05 17:39:44,438 [main] DEBUG org.hibernate.SQL - [] [] create table trainees (date_of_birth date, id bigint not null, address varchar(255), primary key (id))
2025-09-05 17:39:44,438 [main] DEBUG org.hibernate.SQL - [] [] create table trainers (id bigint not null, specialization_id bigint not null, primary key (id))
2025-09-05 17:39:44,439 [main] DEBUG org.hibernate.SQL - [] [] create table training_types (id bigint generated by default as identity, training_type_name varchar(255) not null unique, primary key (id))
2025-09-05 17:39:44,439 [main] DEBUG org.hibernate.SQL - [] [] create table trainings (training_date date not null, training_duration integer not null, id bigint generated by default as identity, trainee_id bigint not null, trainer_id bigint not null, training_type_id bigint not null, training_name varchar(255) not null, primary key (id))
2025-09-05 17:39:44,440 [main] DEBUG org.hibernate.SQL - [] [] create table users (is_active boolean not null, id bigint generated by default as identity, first_name varchar(255) not null, last_name varchar(255) not null, password varchar(255) not null, username varchar(255) not null unique, primary key (id))
2025-09-05 17:39:44,440 [main] DEBUG org.hibernate.SQL - [] [] alter table if exists trainee_trainer add constraint FKsis342w57b177o84peanydlrp foreign key (trainer_id) references trainers
2025-09-05 17:39:44,441 [main] DEBUG org.hibernate.SQL - [] [] alter table if exists trainee_trainer add constraint FK27f1le516f824l8owvnc4mvs1 foreign key (trainee_id) references trainees
2025-09-05 17:39:44,441 [main] DEBUG org.hibernate.SQL - [] [] alter table if exists trainees add constraint FKmmcvdm376irbqxxp23un1f1sb foreign key (id) references users
2025-09-05 17:39:44,442 [main] DEBUG org.hibernate.SQL - [] [] alter table if exists trainers add constraint FK7cbp7k5ur2e10a5nj424nu1tv foreign key (specialization_id) references training_types
2025-09-05 17:39:44,442 [main] DEBUG org.hibernate.SQL - [] [] alter table if exists trainers add constraint FKfuw99amb6fcrji1245ooioikb foreign key (id) references users
2025-09-05 17:39:44,443 [main] DEBUG org.hibernate.SQL - [] [] alter table if exists trainings add constraint FK4btmw0yu4tbogiw8qi0ewba74 foreign key (trainee_id) references trainees
2025-09-05 17:39:44,443 [main] DEBUG org.hibernate.SQL - [] [] alter table if exists trainings add constraint FKbqwj5wievnuonuxv60wg6rr48 foreign key (trainer_id) references trainers
2025-09-05 17:39:44,444 [main] DEBUG org.hibernate.SQL - [] [] alter table if exists trainings add constraint FKovn6ewpej7cxhjx55tovddhnj foreign key (training_type_id) references training_types
2025-09-05 17:39:44,445 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - [] [] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-05 17:39:44,483 [main] INFO  com.gym.crm.facade.GymCrmFacade - [] [] GymCrmFacade initialized with all services
2025-09-05 17:39:44,484 [main] INFO  c.g.c.s.DataInitializationService - [] [] Initializing database with training types
2025-09-05 17:39:44,485 [main] DEBUG org.hibernate.SQL - [] [] select tt1_0.id,tt1_0.training_type_name from training_types tt1_0 where tt1_0.training_type_name=?
2025-09-05 17:39:44,491 [main] DEBUG org.hibernate.SQL - [] [] insert into training_types (training_type_name,id) values (?,default)
2025-09-05 17:39:44,493 [main] DEBUG org.hibernate.SQL - [] [] select tt1_0.id,tt1_0.training_type_name from training_types tt1_0 where tt1_0.training_type_name=?
2025-09-05 17:39:44,494 [main] DEBUG org.hibernate.SQL - [] [] insert into training_types (training_type_name,id) values (?,default)
2025-09-05 17:39:44,496 [main] DEBUG org.hibernate.SQL - [] [] select tt1_0.id,tt1_0.training_type_name from training_types tt1_0 where tt1_0.training_type_name=?
2025-09-05 17:39:44,496 [main] DEBUG org.hibernate.SQL - [] [] insert into training_types (training_type_name,id) values (?,default)
2025-09-05 17:39:44,497 [main] DEBUG org.hibernate.SQL - [] [] select tt1_0.id,tt1_0.training_type_name from training_types tt1_0 where tt1_0.training_type_name=?
2025-09-05 17:39:44,498 [main] DEBUG org.hibernate.SQL - [] [] insert into training_types (training_type_name,id) values (?,default)
2025-09-05 17:39:44,499 [main] DEBUG org.hibernate.SQL - [] [] select tt1_0.id,tt1_0.training_type_name from training_types tt1_0 where tt1_0.training_type_name=?
2025-09-05 17:39:44,499 [main] DEBUG org.hibernate.SQL - [] [] insert into training_types (training_type_name,id) values (?,default)
2025-09-05 17:39:44,500 [main] DEBUG org.hibernate.SQL - [] [] select tt1_0.id,tt1_0.training_type_name from training_types tt1_0 where tt1_0.training_type_name=?
2025-09-05 17:39:44,500 [main] DEBUG org.hibernate.SQL - [] [] insert into training_types (training_type_name,id) values (?,default)
2025-09-05 17:39:44,501 [main] DEBUG org.hibernate.SQL - [] [] select tt1_0.id,tt1_0.training_type_name from training_types tt1_0 where tt1_0.training_type_name=?
2025-09-05 17:39:44,501 [main] DEBUG org.hibernate.SQL - [] [] insert into training_types (training_type_name,id) values (?,default)
2025-09-05 17:39:44,502 [main] DEBUG org.hibernate.SQL - [] [] select tt1_0.id,tt1_0.training_type_name from training_types tt1_0 where tt1_0.training_type_name=?
2025-09-05 17:39:44,502 [main] DEBUG org.hibernate.SQL - [] [] insert into training_types (training_type_name,id) values (?,default)
2025-09-05 17:39:44,504 [main] DEBUG org.hibernate.SQL - [] [] select count(*) from training_types tt1_0
2025-09-05 17:39:44,504 [main] INFO  c.g.c.s.DataInitializationService - [] [] Training types initialization completed. Total types: 8
2025-09-05 17:39:44,521 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - [] [] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-05 17:39:44,591 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - [] [] Exposing 5 endpoints beneath base path '/actuator'
2025-09-05 17:39:44,602 [main] INFO  c.g.c.metrics.MetricsIntegrationTest - [] [] Started MetricsIntegrationTest in 0.356 seconds (process running for 4.318)
2025-09-05 17:39:44,634 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - [] [] Could not detect default configuration classes for test class [com.gym.crm.integration.GymCrmIntegrationTest]: GymCrmIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-05 17:39:44,638 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - [] [] Found @SpringBootConfiguration com.gym.crm.CrmApplication for test class com.gym.crm.integration.GymCrmIntegrationTest
2025-09-05 17:39:44,739 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - [] [] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-05 17:39:44,743 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - [] [] Finished Spring Data repository scanning in 4 ms. Found 5 JPA repository interfaces.
2025-09-05 17:39:44,777 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - [] [] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-05 17:39:44,778 [main] INFO  com.zaxxer.hikari.HikariDataSource - [] [] HikariPool-3 - Starting...
2025-09-05 17:39:44,778 [main] INFO  com.zaxxer.hikari.pool.HikariPool - [] [] HikariPool-3 - Added connection conn19: url=jdbc:h2:mem:gymcrm-local user=SA
2025-09-05 17:39:44,778 [main] INFO  com.zaxxer.hikari.HikariDataSource - [] [] HikariPool-3 - Start completed.
2025-09-05 17:39:44,779 [main] WARN  org.hibernate.orm.deprecation - [] [] HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-05 17:39:44,799 [main] DEBUG org.hibernate.SQL - [] [] 
    create global temporary table HTE_users(date_of_birth date, is_active boolean, HTE_IDENTITY bigint generated 
by
    default as identity, id bigint, address varchar(255), first_name varchar(255), last_name varchar(255), password varchar(255), username varchar(255), primary key (HTE_IDENTITY)) TRANSACTIONAL
2025-09-05 17:39:44,800 [main] DEBUG org.hibernate.SQL - [] [] 
    create global temporary table HT_trainers(id bigint not null, primary key (id)) TRANSACTIONAL
2025-09-05 17:39:44,801 [main] DEBUG org.hibernate.SQL - [] [] 
    create global temporary table HTE_trainers(is_active boolean, HTE_IDENTITY bigint generated 
by
    default as identity, id bigint, specialization_id bigint, first_name varchar(255), last_name varchar(255), password varchar(255), username varchar(255), primary key (HTE_IDENTITY)) TRANSACTIONAL
2025-09-05 17:39:44,801 [main] DEBUG org.hibernate.SQL - [] [] 
    create global temporary table HT_trainees(id bigint not null, primary key (id)) TRANSACTIONAL
2025-09-05 17:39:44,801 [main] DEBUG org.hibernate.SQL - [] [] 
    create global temporary table HTE_trainees(date_of_birth date, is_active boolean, HTE_IDENTITY bigint generated 
by
    default as identity, id bigint, address varchar(255), first_name varchar(255), last_name varchar(255), password varchar(255), username varchar(255), primary key (HTE_IDENTITY)) TRANSACTIONAL
2025-09-05 17:39:44,802 [main] DEBUG org.hibernate.SQL - [] [] 
    create global temporary table HT_users(id bigint not null, primary key (id)) TRANSACTIONAL
2025-09-05 17:39:44,806 [main] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists trainee_trainer cascade 
2025-09-05 17:39:44,807 [main] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists trainees cascade 
2025-09-05 17:39:44,807 [main] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists trainers cascade 
2025-09-05 17:39:44,807 [main] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists training_types cascade 
2025-09-05 17:39:44,807 [main] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists trainings cascade 
2025-09-05 17:39:44,808 [main] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists users cascade 
2025-09-05 17:39:44,808 [main] DEBUG org.hibernate.SQL - [] [] 
    create table trainee_trainer (
        trainee_id bigint not null,
        trainer_id bigint not null,
        primary key (trainee_id, trainer_id)
    )
2025-09-05 17:39:44,808 [main] DEBUG org.hibernate.SQL - [] [] 
    create table trainees (
        date_of_birth date,
        id bigint not null,
        address varchar(255),
        primary key (id)
    )
2025-09-05 17:39:44,809 [main] DEBUG org.hibernate.SQL - [] [] 
    create table trainers (
        id bigint not null,
        specialization_id bigint not null,
        primary key (id)
    )
2025-09-05 17:39:44,809 [main] DEBUG org.hibernate.SQL - [] [] 
    create table training_types (
        id bigint generated by default as identity,
        training_type_name varchar(255) not null unique,
        primary key (id)
    )
2025-09-05 17:39:44,809 [main] DEBUG org.hibernate.SQL - [] [] 
    create table trainings (
        training_date date not null,
        training_duration integer not null,
        id bigint generated by default as identity,
        trainee_id bigint not null,
        trainer_id bigint not null,
        training_type_id bigint not null,
        training_name varchar(255) not null,
        primary key (id)
    )
2025-09-05 17:39:44,810 [main] DEBUG org.hibernate.SQL - [] [] 
    create table users (
        is_active boolean not null,
        id bigint generated by default as identity,
        first_name varchar(255) not null,
        last_name varchar(255) not null,
        password varchar(255) not null,
        username varchar(255) not null unique,
        primary key (id)
    )
2025-09-05 17:39:44,810 [main] DEBUG org.hibernate.SQL - [] [] 
    alter table if exists trainee_trainer 
       add constraint FKsis342w57b177o84peanydlrp 
       foreign key (trainer_id) 
       references trainers
2025-09-05 17:39:44,811 [main] DEBUG org.hibernate.SQL - [] [] 
    alter table if exists trainee_trainer 
       add constraint FK27f1le516f824l8owvnc4mvs1 
       foreign key (trainee_id) 
       references trainees
2025-09-05 17:39:44,811 [main] DEBUG org.hibernate.SQL - [] [] 
    alter table if exists trainees 
       add constraint FKmmcvdm376irbqxxp23un1f1sb 
       foreign key (id) 
       references users
2025-09-05 17:39:44,812 [main] DEBUG org.hibernate.SQL - [] [] 
    alter table if exists trainers 
       add constraint FK7cbp7k5ur2e10a5nj424nu1tv 
       foreign key (specialization_id) 
       references training_types
2025-09-05 17:39:44,812 [main] DEBUG org.hibernate.SQL - [] [] 
    alter table if exists trainers 
       add constraint FKfuw99amb6fcrji1245ooioikb 
       foreign key (id) 
       references users
2025-09-05 17:39:44,813 [main] DEBUG org.hibernate.SQL - [] [] 
    alter table if exists trainings 
       add constraint FK4btmw0yu4tbogiw8qi0ewba74 
       foreign key (trainee_id) 
       references trainees
2025-09-05 17:39:44,813 [main] DEBUG org.hibernate.SQL - [] [] 
    alter table if exists trainings 
       add constraint FKbqwj5wievnuonuxv60wg6rr48 
       foreign key (trainer_id) 
       references trainers
2025-09-05 17:39:44,813 [main] DEBUG org.hibernate.SQL - [] [] 
    alter table if exists trainings 
       add constraint FKovn6ewpej7cxhjx55tovddhnj 
       foreign key (training_type_id) 
       references training_types
2025-09-05 17:39:44,814 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - [] [] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-05 17:39:44,844 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        tt1_0.id,
        tt1_0.training_type_name 
    from
        training_types tt1_0 
    where
        tt1_0.training_type_name=?
2025-09-05 17:39:44,849 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        training_types
        (training_type_name, id) 
    values
        (?, default)
2025-09-05 17:39:44,851 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        tt1_0.id,
        tt1_0.training_type_name 
    from
        training_types tt1_0 
    where
        tt1_0.training_type_name=?
2025-09-05 17:39:44,852 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        training_types
        (training_type_name, id) 
    values
        (?, default)
2025-09-05 17:39:44,853 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        tt1_0.id,
        tt1_0.training_type_name 
    from
        training_types tt1_0 
    where
        tt1_0.training_type_name=?
2025-09-05 17:39:44,854 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        training_types
        (training_type_name, id) 
    values
        (?, default)
2025-09-05 17:39:44,856 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        tt1_0.id,
        tt1_0.training_type_name 
    from
        training_types tt1_0 
    where
        tt1_0.training_type_name=?
2025-09-05 17:39:44,856 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        training_types
        (training_type_name, id) 
    values
        (?, default)
2025-09-05 17:39:44,857 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        tt1_0.id,
        tt1_0.training_type_name 
    from
        training_types tt1_0 
    where
        tt1_0.training_type_name=?
2025-09-05 17:39:44,858 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        training_types
        (training_type_name, id) 
    values
        (?, default)
2025-09-05 17:39:44,859 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        tt1_0.id,
        tt1_0.training_type_name 
    from
        training_types tt1_0 
    where
        tt1_0.training_type_name=?
2025-09-05 17:39:44,859 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        training_types
        (training_type_name, id) 
    values
        (?, default)
2025-09-05 17:39:44,860 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        tt1_0.id,
        tt1_0.training_type_name 
    from
        training_types tt1_0 
    where
        tt1_0.training_type_name=?
2025-09-05 17:39:44,861 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        training_types
        (training_type_name, id) 
    values
        (?, default)
2025-09-05 17:39:44,863 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        tt1_0.id,
        tt1_0.training_type_name 
    from
        training_types tt1_0 
    where
        tt1_0.training_type_name=?
2025-09-05 17:39:44,863 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        training_types
        (training_type_name, id) 
    values
        (?, default)
2025-09-05 17:39:44,864 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        count(*) 
    from
        training_types tt1_0
2025-09-05 17:39:44,886 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - [] [] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-05 17:39:44,945 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - [] [] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:gymcrm-local'
2025-09-05 17:39:44,947 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - [] [] Exposing 5 endpoints beneath base path '/actuator'
2025-09-05 17:39:44,965 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.specialization_id 
    from
        trainers t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:39:44,970 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.address,
        t1_0.date_of_birth 
    from
        trainees t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:39:44,971 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        tt1_0.id,
        tt1_0.training_type_name 
    from
        training_types tt1_0 
    where
        tt1_0.training_type_name=?
2025-09-05 17:39:44,983 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id 
    from
        trainers t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.first_name=? 
        and t1_1.last_name=? 
    fetch
        first ? rows only
2025-09-05 17:39:44,989 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        users
        (first_name, is_active, last_name, password, username, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-09-05 17:39:44,990 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        trainers
        (specialization_id, id) 
    values
        (?, ?)
2025-09-05 17:39:44,994 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.specialization_id 
    from
        trainers t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:39:45,001 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        tt1_0.id,
        tt1_0.training_type_name 
    from
        training_types tt1_0 
    where
        tt1_0.training_type_name=?
2025-09-05 17:39:45,003 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id 
    from
        trainers t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.first_name=? 
        and t1_1.last_name=? 
    fetch
        first ? rows only
2025-09-05 17:39:45,004 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        users
        (first_name, is_active, last_name, password, username, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-09-05 17:39:45,004 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        trainers
        (specialization_id, id) 
    values
        (?, ?)
2025-09-05 17:39:45,008 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id 
    from
        trainees t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.first_name=? 
        and t1_1.last_name=? 
    fetch
        first ? rows only
2025-09-05 17:39:45,009 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        users
        (first_name, is_active, last_name, password, username, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-09-05 17:39:45,011 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        trainees
        (address, date_of_birth, id) 
    values
        (?, ?, ?)
2025-09-05 17:39:45,014 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.specialization_id 
    from
        trainers t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:39:45,015 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.address,
        t1_0.date_of_birth 
    from
        trainees t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:39:45,016 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.specialization_id 
    from
        trainers t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:39:45,017 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.specialization_id 
    from
        trainers t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:39:45,018 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.address,
        t1_0.date_of_birth 
    from
        trainees t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:39:45,019 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.specialization_id 
    from
        trainers t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:39:45,020 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.specialization_id 
    from
        trainers t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:39:45,025 [main] DEBUG org.hibernate.SQL - [] [] 
    update
        users 
    set
        first_name=?,
        is_active=?,
        last_name=?,
        password=?,
        username=? 
    where
        id=?
2025-09-05 17:39:45,028 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.address,
        t1_0.date_of_birth 
    from
        trainees t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:39:45,030 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.address,
        t1_0.date_of_birth 
    from
        trainees t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:39:45,031 [main] DEBUG org.hibernate.SQL - [] [] 
    update
        users 
    set
        first_name=?,
        is_active=?,
        last_name=?,
        password=?,
        username=? 
    where
        id=?
2025-09-05 17:39:45,031 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.specialization_id 
    from
        trainers t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:39:45,032 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.address,
        t1_0.date_of_birth 
    from
        trainees t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:39:45,033 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.specialization_id 
    from
        trainers t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:39:45,034 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.specialization_id 
    from
        trainers t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:39:45,035 [main] DEBUG org.hibernate.SQL - [] [] 
    update
        users 
    set
        first_name=?,
        is_active=?,
        last_name=?,
        password=?,
        username=? 
    where
        id=?
2025-09-05 17:39:45,035 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.address,
        t1_0.date_of_birth 
    from
        trainees t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:39:45,036 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.address,
        t1_0.date_of_birth 
    from
        trainees t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:39:45,038 [main] DEBUG org.hibernate.SQL - [] [] 
    update
        trainees 
    set
        address=?,
        date_of_birth=? 
    where
        id=?
2025-09-05 17:39:45,038 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.specialization_id 
    from
        trainers t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:39:45,039 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.specialization_id 
    from
        trainers t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:39:45,040 [main] DEBUG org.hibernate.SQL - [] [] 
    update
        users 
    set
        first_name=?,
        is_active=?,
        last_name=?,
        password=?,
        username=? 
    where
        id=?
2025-09-05 17:39:45,040 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.specialization_id 
    from
        trainers t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:39:45,041 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.specialization_id 
    from
        trainers t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:39:45,042 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.specialization_id 
    from
        trainers t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:39:45,042 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.specialization_id 
    from
        trainers t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:39:45,044 [main] DEBUG org.hibernate.SQL - [] [] 
    update
        users 
    set
        first_name=?,
        is_active=?,
        last_name=?,
        password=?,
        username=? 
    where
        id=?
2025-09-05 17:39:45,045 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.address,
        t1_0.date_of_birth 
    from
        trainees t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:39:45,046 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.address,
        t1_0.date_of_birth 
    from
        trainees t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:39:45,048 [main] DEBUG org.hibernate.SQL - [] [] 
    update
        users 
    set
        first_name=?,
        is_active=?,
        last_name=?,
        password=?,
        username=? 
    where
        id=?
2025-09-05 17:39:45,048 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.address,
        t1_0.date_of_birth 
    from
        trainees t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:39:45,049 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.address,
        t1_0.date_of_birth 
    from
        trainees t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:39:45,050 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.address,
        t1_0.date_of_birth 
    from
        trainees t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:39:45,050 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.address,
        t1_0.date_of_birth 
    from
        trainees t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:39:45,054 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        trainings
        (trainee_id, trainer_id, training_date, training_duration, training_name, training_type_id, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-09-05 17:39:45,056 [main] DEBUG org.hibernate.SQL - [] [] 
    update
        users 
    set
        first_name=?,
        is_active=?,
        last_name=?,
        password=?,
        username=? 
    where
        id=?
2025-09-05 17:39:45,056 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.address,
        t1_0.date_of_birth 
    from
        trainees t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:39:45,057 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.address,
        t1_0.date_of_birth 
    from
        trainees t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:39:45,063 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_0.trainee_id,
        t1_0.trainer_id,
        t1_0.training_date,
        t1_0.training_duration,
        t1_0.training_name,
        t1_0.training_type_id 
    from
        trainings t1_0 
    join
        trainees t2_0 
            on t2_0.id=t1_0.trainee_id 
    left join
        users t2_1 
            on t2_0.id=t2_1.id 
    join
        trainers t3_0 
            on t3_0.id=t1_0.trainer_id 
    left join
        users t3_1 
            on t3_0.id=t3_1.id 
    join
        training_types tt1_0 
            on tt1_0.id=t1_0.training_type_id 
    where
        t2_1.username=? 
        and (
            ? is null 
            or t1_0.training_date>=?
        ) 
        and (
            ? is null 
            or t1_0.training_date<=?
        ) 
        and (
            ? is null 
            or (
                t3_1.first_name||' '||t3_1.last_name
            ) like ? escape ''
        ) 
        and (
            ? is null 
            or tt1_0.training_type_name=?
        )
2025-09-05 17:39:45,066 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.specialization_id 
    from
        trainers t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:39:45,067 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.specialization_id 
    from
        trainers t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:39:45,070 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_0.trainee_id,
        t1_0.trainer_id,
        t1_0.training_date,
        t1_0.training_duration,
        t1_0.training_name,
        t1_0.training_type_id 
    from
        trainings t1_0 
    join
        trainees t2_0 
            on t2_0.id=t1_0.trainee_id 
    left join
        users t2_1 
            on t2_0.id=t2_1.id 
    join
        trainers t3_0 
            on t3_0.id=t1_0.trainer_id 
    left join
        users t3_1 
            on t3_0.id=t3_1.id 
    where
        t3_1.username=? 
        and (
            ? is null 
            or t1_0.training_date>=?
        ) 
        and (
            ? is null 
            or t1_0.training_date<=?
        ) 
        and (
            ? is null 
            or (
                t2_1.first_name||' '||t2_1.last_name
            ) like ? escape ''
        )
2025-09-05 17:39:45,075 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.specialization_id 
    from
        trainers t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_0.id not in (select
            t3_0.trainer_id 
        from
            trainees t2_0 
        join
            users t2_1 
                on t2_0.id=t2_1.id 
        join
            trainee_trainer t3_0 
                on t2_0.id=t3_0.trainee_id 
        join
            trainers t3_1 
                on t3_1.id=t3_0.trainer_id 
        join
            users t3_2 
                on t3_1.id=t3_2.id 
        where
            t2_1.username=?)
2025-09-05 17:39:45,081 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.address,
        t1_0.date_of_birth 
    from
        trainees t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:39:45,082 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.address,
        t1_0.date_of_birth 
    from
        trainees t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:39:45,082 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.specialization_id 
    from
        trainers t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:39:45,084 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.address,
        t1_0.date_of_birth 
    from
        trainees t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:39:45,085 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.address,
        t1_0.date_of_birth 
    from
        trainees t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:39:45,086 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_0.trainee_id,
        t1_0.trainer_id,
        t1_0.training_date,
        t1_0.training_duration,
        t1_0.training_name,
        t1_0.training_type_id 
    from
        trainings t1_0 
    left join
        trainees t2_0 
            on t2_0.id=t1_0.trainee_id 
    left join
        users t2_1 
            on t2_0.id=t2_1.id 
    where
        t2_1.username=?
2025-09-05 17:39:45,089 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.address,
        t1_0.date_of_birth 
    from
        trainees t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:39:45,091 [main] DEBUG org.hibernate.SQL - [] [] 
    delete 
    from
        trainings 
    where
        id=?
2025-09-05 17:39:45,093 [main] DEBUG org.hibernate.SQL - [] [] 
    delete 
    from
        trainees 
    where
        id=?
2025-09-05 17:39:45,094 [main] DEBUG org.hibernate.SQL - [] [] 
    delete 
    from
        users 
    where
        id=?
2025-09-05 17:39:45,094 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.address,
        t1_0.date_of_birth 
    from
        trainees t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:39:45,099 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        tt1_0.id,
        tt1_0.training_type_name 
    from
        training_types tt1_0
2025-09-05 17:39:45,105 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - [] [] Could not detect default configuration classes for test class [com.gym.crm.integration.RestApiIntegrationTest]: RestApiIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-05 17:39:45,108 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - [] [] Found @SpringBootConfiguration com.gym.crm.CrmApplication for test class com.gym.crm.integration.RestApiIntegrationTest
2025-09-05 17:39:45,200 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - [] [] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-05 17:39:45,205 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - [] [] Finished Spring Data repository scanning in 4 ms. Found 5 JPA repository interfaces.
2025-09-05 17:39:45,239 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - [] [] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-05 17:39:45,239 [main] INFO  com.zaxxer.hikari.HikariDataSource - [] [] HikariPool-4 - Starting...
2025-09-05 17:39:45,239 [main] INFO  com.zaxxer.hikari.pool.HikariPool - [] [] HikariPool-4 - Added connection conn30: url=jdbc:h2:mem:gymcrm-local user=SA
2025-09-05 17:39:45,239 [main] INFO  com.zaxxer.hikari.HikariDataSource - [] [] HikariPool-4 - Start completed.
2025-09-05 17:39:45,240 [main] WARN  org.hibernate.orm.deprecation - [] [] HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-05 17:39:45,258 [main] DEBUG org.hibernate.SQL - [] [] 
    create global temporary table HTE_users(date_of_birth date, is_active boolean, HTE_IDENTITY bigint generated 
by
    default as identity, id bigint, address varchar(255), first_name varchar(255), last_name varchar(255), password varchar(255), username varchar(255), primary key (HTE_IDENTITY)) TRANSACTIONAL
2025-09-05 17:39:45,259 [main] DEBUG org.hibernate.SQL - [] [] 
    create global temporary table HT_trainers(id bigint not null, primary key (id)) TRANSACTIONAL
2025-09-05 17:39:45,259 [main] DEBUG org.hibernate.SQL - [] [] 
    create global temporary table HTE_trainers(is_active boolean, HTE_IDENTITY bigint generated 
by
    default as identity, id bigint, specialization_id bigint, first_name varchar(255), last_name varchar(255), password varchar(255), username varchar(255), primary key (HTE_IDENTITY)) TRANSACTIONAL
2025-09-05 17:39:45,259 [main] DEBUG org.hibernate.SQL - [] [] 
    create global temporary table HT_trainees(id bigint not null, primary key (id)) TRANSACTIONAL
2025-09-05 17:39:45,260 [main] DEBUG org.hibernate.SQL - [] [] 
    create global temporary table HTE_trainees(date_of_birth date, is_active boolean, HTE_IDENTITY bigint generated 
by
    default as identity, id bigint, address varchar(255), first_name varchar(255), last_name varchar(255), password varchar(255), username varchar(255), primary key (HTE_IDENTITY)) TRANSACTIONAL
2025-09-05 17:39:45,260 [main] DEBUG org.hibernate.SQL - [] [] 
    create global temporary table HT_users(id bigint not null, primary key (id)) TRANSACTIONAL
2025-09-05 17:39:45,263 [main] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists trainee_trainer cascade 
2025-09-05 17:39:45,264 [main] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists trainees cascade 
2025-09-05 17:39:45,264 [main] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists trainers cascade 
2025-09-05 17:39:45,264 [main] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists training_types cascade 
2025-09-05 17:39:45,264 [main] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists trainings cascade 
2025-09-05 17:39:45,264 [main] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists users cascade 
2025-09-05 17:39:45,265 [main] DEBUG org.hibernate.SQL - [] [] 
    create table trainee_trainer (
        trainee_id bigint not null,
        trainer_id bigint not null,
        primary key (trainee_id, trainer_id)
    )
2025-09-05 17:39:45,265 [main] DEBUG org.hibernate.SQL - [] [] 
    create table trainees (
        date_of_birth date,
        id bigint not null,
        address varchar(255),
        primary key (id)
    )
2025-09-05 17:39:45,265 [main] DEBUG org.hibernate.SQL - [] [] 
    create table trainers (
        id bigint not null,
        specialization_id bigint not null,
        primary key (id)
    )
2025-09-05 17:39:45,265 [main] DEBUG org.hibernate.SQL - [] [] 
    create table training_types (
        id bigint generated by default as identity,
        training_type_name varchar(255) not null unique,
        primary key (id)
    )
2025-09-05 17:39:45,266 [main] DEBUG org.hibernate.SQL - [] [] 
    create table trainings (
        training_date date not null,
        training_duration integer not null,
        id bigint generated by default as identity,
        trainee_id bigint not null,
        trainer_id bigint not null,
        training_type_id bigint not null,
        training_name varchar(255) not null,
        primary key (id)
    )
2025-09-05 17:39:45,266 [main] DEBUG org.hibernate.SQL - [] [] 
    create table users (
        is_active boolean not null,
        id bigint generated by default as identity,
        first_name varchar(255) not null,
        last_name varchar(255) not null,
        password varchar(255) not null,
        username varchar(255) not null unique,
        primary key (id)
    )
2025-09-05 17:39:45,266 [main] DEBUG org.hibernate.SQL - [] [] 
    alter table if exists trainee_trainer 
       add constraint FKsis342w57b177o84peanydlrp 
       foreign key (trainer_id) 
       references trainers
2025-09-05 17:39:45,267 [main] DEBUG org.hibernate.SQL - [] [] 
    alter table if exists trainee_trainer 
       add constraint FK27f1le516f824l8owvnc4mvs1 
       foreign key (trainee_id) 
       references trainees
2025-09-05 17:39:45,267 [main] DEBUG org.hibernate.SQL - [] [] 
    alter table if exists trainees 
       add constraint FKmmcvdm376irbqxxp23un1f1sb 
       foreign key (id) 
       references users
2025-09-05 17:39:45,268 [main] DEBUG org.hibernate.SQL - [] [] 
    alter table if exists trainers 
       add constraint FK7cbp7k5ur2e10a5nj424nu1tv 
       foreign key (specialization_id) 
       references training_types
2025-09-05 17:39:45,268 [main] DEBUG org.hibernate.SQL - [] [] 
    alter table if exists trainers 
       add constraint FKfuw99amb6fcrji1245ooioikb 
       foreign key (id) 
       references users
2025-09-05 17:39:45,269 [main] DEBUG org.hibernate.SQL - [] [] 
    alter table if exists trainings 
       add constraint FK4btmw0yu4tbogiw8qi0ewba74 
       foreign key (trainee_id) 
       references trainees
2025-09-05 17:39:45,269 [main] DEBUG org.hibernate.SQL - [] [] 
    alter table if exists trainings 
       add constraint FKbqwj5wievnuonuxv60wg6rr48 
       foreign key (trainer_id) 
       references trainers
2025-09-05 17:39:45,269 [main] DEBUG org.hibernate.SQL - [] [] 
    alter table if exists trainings 
       add constraint FKovn6ewpej7cxhjx55tovddhnj 
       foreign key (training_type_id) 
       references training_types
2025-09-05 17:39:45,270 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - [] [] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-05 17:39:45,306 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        tt1_0.id,
        tt1_0.training_type_name 
    from
        training_types tt1_0 
    where
        tt1_0.training_type_name=?
2025-09-05 17:39:45,316 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        training_types
        (training_type_name, id) 
    values
        (?, default)
2025-09-05 17:39:45,317 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        tt1_0.id,
        tt1_0.training_type_name 
    from
        training_types tt1_0 
    where
        tt1_0.training_type_name=?
2025-09-05 17:39:45,317 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        training_types
        (training_type_name, id) 
    values
        (?, default)
2025-09-05 17:39:45,318 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        tt1_0.id,
        tt1_0.training_type_name 
    from
        training_types tt1_0 
    where
        tt1_0.training_type_name=?
2025-09-05 17:39:45,319 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        training_types
        (training_type_name, id) 
    values
        (?, default)
2025-09-05 17:39:45,320 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        tt1_0.id,
        tt1_0.training_type_name 
    from
        training_types tt1_0 
    where
        tt1_0.training_type_name=?
2025-09-05 17:39:45,320 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        training_types
        (training_type_name, id) 
    values
        (?, default)
2025-09-05 17:39:45,327 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        tt1_0.id,
        tt1_0.training_type_name 
    from
        training_types tt1_0 
    where
        tt1_0.training_type_name=?
2025-09-05 17:39:45,331 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        training_types
        (training_type_name, id) 
    values
        (?, default)
2025-09-05 17:39:45,332 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        tt1_0.id,
        tt1_0.training_type_name 
    from
        training_types tt1_0 
    where
        tt1_0.training_type_name=?
2025-09-05 17:39:45,332 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        training_types
        (training_type_name, id) 
    values
        (?, default)
2025-09-05 17:39:45,333 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        tt1_0.id,
        tt1_0.training_type_name 
    from
        training_types tt1_0 
    where
        tt1_0.training_type_name=?
2025-09-05 17:39:45,333 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        training_types
        (training_type_name, id) 
    values
        (?, default)
2025-09-05 17:39:45,334 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        tt1_0.id,
        tt1_0.training_type_name 
    from
        training_types tt1_0 
    where
        tt1_0.training_type_name=?
2025-09-05 17:39:45,335 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        training_types
        (training_type_name, id) 
    values
        (?, default)
2025-09-05 17:39:45,336 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        count(*) 
    from
        training_types tt1_0
2025-09-05 17:39:45,351 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - [] [] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-05 17:39:45,408 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - [] [] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:gymcrm-local'
2025-09-05 17:39:45,410 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - [] [] Exposing 5 endpoints beneath base path '/actuator'
2025-09-05 17:39:45,421 [main] WARN  o.s.test.context.TestContextManager - [] [] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.gym.crm.integration.RestApiIntegrationTest@283d515e]
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'com.gym.crm.integration.RestApiIntegrationTest': Unsatisfied dependency expressed through field 'mockMvc': No qualifying bean of type 'org.springframework.test.web.servlet.MockMvc' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:788)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1459)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireBeanProperties(AbstractAutowireCapableBeanFactory.java:405)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:156)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:111)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:194)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:150)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.test.web.servlet.MockMvc' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:2284)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1708)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1628)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785)
	... 83 common frames omitted
2025-09-05 17:39:45,425 [main] WARN  o.s.test.context.TestContextManager - [] [] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.gym.crm.integration.RestApiIntegrationTest@5dc77210]
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'com.gym.crm.integration.RestApiIntegrationTest': Unsatisfied dependency expressed through field 'mockMvc': No qualifying bean of type 'org.springframework.test.web.servlet.MockMvc' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:788)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1459)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireBeanProperties(AbstractAutowireCapableBeanFactory.java:405)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:156)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:111)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:194)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:150)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.test.web.servlet.MockMvc' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:2284)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1708)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1628)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785)
	... 83 common frames omitted
2025-09-05 17:39:45,426 [main] WARN  o.s.test.context.TestContextManager - [] [] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.gym.crm.integration.RestApiIntegrationTest@59ba2555]
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'com.gym.crm.integration.RestApiIntegrationTest': Unsatisfied dependency expressed through field 'mockMvc': No qualifying bean of type 'org.springframework.test.web.servlet.MockMvc' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:788)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1459)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireBeanProperties(AbstractAutowireCapableBeanFactory.java:405)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:156)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:111)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:215)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1709)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1597)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:194)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:150)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.test.web.servlet.MockMvc' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:2284)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1708)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1628)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785)
	... 83 common frames omitted
2025-09-05 17:39:45,431 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - [] [] Could not detect default configuration classes for test class [com.gym.crm.controller.TraineeControllerTest]: TraineeControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-05 17:39:45,439 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - [] [] Found @SpringBootConfiguration com.gym.crm.CrmApplication for test class com.gym.crm.controller.TraineeControllerTest
2025-09-05 17:39:45,449 [main] INFO  c.g.c.c.TraineeControllerTest - [] [] Starting TraineeControllerTest using Java 23.0.1 with PID 21820 (started by marlenseiitzhan in /Users/marlenseiitzhan/Desktop/JAVA projects/crm)
2025-09-05 17:39:45,449 [main] DEBUG c.g.c.c.TraineeControllerTest - [] [] Running with Spring Boot v3.5.3, Spring v6.2.8
2025-09-05 17:39:45,450 [main] INFO  c.g.c.c.TraineeControllerTest - [] [] The following 1 profile is active: "local"
2025-09-05 17:39:45,665 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - [] [] Initializing Spring TestDispatcherServlet ''
2025-09-05 17:39:45,666 [main] INFO  o.s.t.w.s.TestDispatcherServlet - [] [] Initializing Servlet ''
2025-09-05 17:39:45,667 [main] INFO  o.s.t.w.s.TestDispatcherServlet - [] [] Completed initialization in 1 ms
2025-09-05 17:39:45,677 [main] INFO  c.g.c.c.TraineeControllerTest - [] [] Started TraineeControllerTest in 0.236 seconds (process running for 5.393)
2025-09-05 17:39:45,716 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-8a010574] [] Transaction started [txn-8a010574]: POST /api/trainees/register
2025-09-05 17:39:45,754 [main] ERROR c.g.c.e.GlobalExceptionHandler - [txn-8a010574] [] Validation error [txn-8a010574]: First name is required - uri=/api/trainees/register
2025-09-05 17:39:45,764 [main] ERROR c.g.c.config.TransactionInterceptor - [txn-8a010574] [] Transaction completed with error [txn-8a010574]: POST /api/trainees/register - Status: 400, Error: HTTP Error
2025-09-05 17:39:45,797 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-6d6fc92f] [] Transaction started [txn-6d6fc92f]: GET /api/trainees/john.doe/trainings
2025-09-05 17:39:45,799 [main] INFO  c.g.crm.controller.TraineeController - [txn-6d6fc92f] [] Getting trainee trainings [txn-6d6fc92f]: john.doe with filters
2025-09-05 17:39:45,800 [main] INFO  c.g.crm.controller.TraineeController - [txn-6d6fc92f] [] Retrieved 1 trainings for trainee [txn-6d6fc92f]: john.doe
2025-09-05 17:39:45,804 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-6d6fc92f] [] Transaction completed [txn-6d6fc92f]: GET /api/trainees/john.doe/trainings - Status: 200
2025-09-05 17:39:45,814 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-614bd1f9] [] Transaction started [txn-614bd1f9]: PUT /api/trainees
2025-09-05 17:39:45,818 [main] INFO  c.g.crm.controller.TraineeController - [txn-614bd1f9] [] Updating trainee profile [txn-614bd1f9]: john.doe
2025-09-05 17:39:45,819 [main] INFO  c.g.crm.controller.TraineeController - [txn-614bd1f9] [] Trainee profile updated [txn-614bd1f9]: john.doe
2025-09-05 17:39:45,822 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-614bd1f9] [] Transaction completed [txn-614bd1f9]: PUT /api/trainees - Status: 200
2025-09-05 17:39:45,826 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-6bebd039] [] Transaction started [txn-6bebd039]: GET /api/trainees/john.doe
2025-09-05 17:39:45,827 [main] INFO  c.g.crm.controller.TraineeController - [txn-6bebd039] [] Getting trainee profile [txn-6bebd039]: john.doe
2025-09-05 17:39:45,827 [main] ERROR c.g.c.e.GlobalExceptionHandler - [txn-6bebd039] [] Authentication error [txn-6bebd039]: Invalid credentials - uri=/api/trainees/john.doe
2025-09-05 17:39:45,832 [main] ERROR c.g.c.config.TransactionInterceptor - [txn-6bebd039] [] Transaction completed with error [txn-6bebd039]: GET /api/trainees/john.doe - Status: 401, Error: HTTP Error
2025-09-05 17:39:45,837 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-4146c16d] [] Transaction started [txn-4146c16d]: POST /api/trainees/register
2025-09-05 17:39:45,838 [main] INFO  c.g.crm.controller.TraineeController - [txn-4146c16d] [] Registering trainee [txn-4146c16d]: John Doe
2025-09-05 17:39:45,838 [main] INFO  c.g.crm.controller.TraineeController - [txn-4146c16d] [] Trainee registered successfully [txn-4146c16d]: john.doe
2025-09-05 17:39:45,839 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-4146c16d] [] Transaction completed [txn-4146c16d]: POST /api/trainees/register - Status: 200
2025-09-05 17:39:45,843 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-4f2a434d] [] Transaction started [txn-4f2a434d]: PATCH /api/trainees/activate
2025-09-05 17:39:45,846 [main] INFO  c.g.crm.controller.TraineeController - [txn-4f2a434d] [] Changing trainee activation status [txn-4f2a434d]: john.doe to false
2025-09-05 17:39:45,846 [main] INFO  c.g.crm.controller.TraineeController - [txn-4f2a434d] [] Trainee activation status changed [txn-4f2a434d]: john.doe
2025-09-05 17:39:45,846 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-4f2a434d] [] Transaction completed [txn-4f2a434d]: PATCH /api/trainees/activate - Status: 200
2025-09-05 17:39:45,850 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-e2b2224e] [] Transaction started [txn-e2b2224e]: PATCH /api/trainees/activate
2025-09-05 17:39:45,850 [main] INFO  c.g.crm.controller.TraineeController - [txn-e2b2224e] [] Changing trainee activation status [txn-e2b2224e]: john.doe to false
2025-09-05 17:39:45,850 [main] ERROR c.g.c.e.GlobalExceptionHandler - [txn-e2b2224e] [] Bad request [txn-e2b2224e]: User is already in the desired state or authentication failed - uri=/api/trainees/activate
2025-09-05 17:39:45,851 [main] ERROR c.g.c.config.TransactionInterceptor - [txn-e2b2224e] [] Transaction completed with error [txn-e2b2224e]: PATCH /api/trainees/activate - Status: 400, Error: HTTP Error
2025-09-05 17:39:45,862 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-50a3052a] [] Transaction started [txn-50a3052a]: PUT /api/trainees/trainers
2025-09-05 17:39:45,864 [main] INFO  c.g.crm.controller.TraineeController - [txn-50a3052a] [] Updating trainee trainer list [txn-50a3052a]: john.doe
2025-09-05 17:39:45,865 [main] INFO  c.g.crm.controller.TraineeController - [txn-50a3052a] [] Trainee trainer list updated [txn-50a3052a]: 1 trainers
2025-09-05 17:39:45,865 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-50a3052a] [] Transaction completed [txn-50a3052a]: PUT /api/trainees/trainers - Status: 200
2025-09-05 17:39:45,869 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-50af7550] [] Transaction started [txn-50af7550]: DELETE /api/trainees/john.doe
2025-09-05 17:39:45,870 [main] INFO  c.g.crm.controller.TraineeController - [txn-50af7550] [] Deleting trainee profile [txn-50af7550]: john.doe
2025-09-05 17:39:45,870 [main] INFO  c.g.crm.controller.TraineeController - [txn-50af7550] [] Trainee profile deleted [txn-50af7550]: john.doe
2025-09-05 17:39:45,870 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-50af7550] [] Transaction completed [txn-50af7550]: DELETE /api/trainees/john.doe - Status: 200
2025-09-05 17:39:45,874 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-4c120191] [] Transaction started [txn-4c120191]: GET /api/trainees/john.doe
2025-09-05 17:39:45,874 [main] INFO  c.g.crm.controller.TraineeController - [txn-4c120191] [] Getting trainee profile [txn-4c120191]: john.doe
2025-09-05 17:39:45,874 [main] INFO  c.g.crm.controller.TraineeController - [txn-4c120191] [] Trainee profile retrieved [txn-4c120191]: john.doe
2025-09-05 17:39:45,876 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-4c120191] [] Transaction completed [txn-4c120191]: GET /api/trainees/john.doe - Status: 200
2025-09-05 17:39:45,881 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - [] [] Could not detect default configuration classes for test class [com.gym.crm.controller.GymControllerTest]: GymControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-05 17:39:45,886 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - [] [] Found @SpringBootConfiguration com.gym.crm.CrmApplication for test class com.gym.crm.controller.GymControllerTest
2025-09-05 17:39:45,899 [main] INFO  c.g.crm.controller.GymControllerTest - [] [] Starting GymControllerTest using Java 23.0.1 with PID 21820 (started by marlenseiitzhan in /Users/marlenseiitzhan/Desktop/JAVA projects/crm)
2025-09-05 17:39:45,899 [main] DEBUG c.g.crm.controller.GymControllerTest - [] [] Running with Spring Boot v3.5.3, Spring v6.2.8
2025-09-05 17:39:45,899 [main] INFO  c.g.crm.controller.GymControllerTest - [] [] The following 1 profile is active: "local"
2025-09-05 17:39:46,006 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - [] [] Initializing Spring TestDispatcherServlet ''
2025-09-05 17:39:46,006 [main] INFO  o.s.t.w.s.TestDispatcherServlet - [] [] Initializing Servlet ''
2025-09-05 17:39:46,007 [main] INFO  o.s.t.w.s.TestDispatcherServlet - [] [] Completed initialization in 1 ms
2025-09-05 17:39:46,010 [main] INFO  c.g.crm.controller.GymControllerTest - [] [] Started GymControllerTest in 0.122 seconds (process running for 5.725)
2025-09-05 17:39:46,014 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-765f29cd] [] Transaction started [txn-765f29cd]: POST /api/trainings
2025-09-05 17:39:46,019 [main] INFO  c.gym.crm.controller.GymController - [txn-765f29cd] [] Adding training [txn-765f29cd]: Morning Workout between nonexistent and jane.smith
2025-09-05 17:39:46,020 [main] ERROR c.g.c.e.GlobalExceptionHandler - [txn-765f29cd] [] Bad request [txn-765f29cd]: Trainee not found: nonexistent - uri=/api/trainings
2025-09-05 17:39:46,022 [main] ERROR c.g.c.config.TransactionInterceptor - [txn-765f29cd] [] Transaction completed with error [txn-765f29cd]: POST /api/trainings - Status: 400, Error: HTTP Error
2025-09-05 17:39:46,025 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-81b19497] [] Transaction started [txn-81b19497]: GET /api/training-types
2025-09-05 17:39:46,025 [main] INFO  c.gym.crm.controller.GymController - [txn-81b19497] [] Getting training types [txn-81b19497]
2025-09-05 17:39:46,025 [main] INFO  c.gym.crm.controller.GymController - [txn-81b19497] [] Retrieved 2 training types [txn-81b19497]
2025-09-05 17:39:46,026 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-81b19497] [] Transaction completed [txn-81b19497]: GET /api/training-types - Status: 200
2025-09-05 17:39:46,030 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-10acb0f7] [] Transaction started [txn-10acb0f7]: GET /api/login
2025-09-05 17:39:46,035 [main] INFO  c.gym.crm.controller.GymController - [txn-10acb0f7] [] User login attempt [txn-10acb0f7]: john.doe
2025-09-05 17:39:46,036 [main] INFO  c.gym.crm.controller.GymController - [txn-10acb0f7] [] User login successful [txn-10acb0f7]: john.doe
2025-09-05 17:39:46,036 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-10acb0f7] [] Transaction completed [txn-10acb0f7]: GET /api/login - Status: 200
2025-09-05 17:39:46,041 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-3e6c5231] [] Transaction started [txn-3e6c5231]: POST /api/trainings
2025-09-05 17:39:46,041 [main] INFO  c.gym.crm.controller.GymController - [txn-3e6c5231] [] Adding training [txn-3e6c5231]: Morning Workout between john.doe and jane.smith
2025-09-05 17:39:46,041 [main] INFO  c.gym.crm.controller.GymController - [txn-3e6c5231] [] Training added successfully [txn-3e6c5231]: Morning Workout
2025-09-05 17:39:46,041 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-3e6c5231] [] Transaction completed [txn-3e6c5231]: POST /api/trainings - Status: 200
2025-09-05 17:39:46,045 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-01e786fe] [] Transaction started [txn-01e786fe]: GET /api/login
2025-09-05 17:39:46,045 [main] INFO  c.gym.crm.controller.GymController - [txn-01e786fe] [] User login attempt [txn-01e786fe]: john.doe
2025-09-05 17:39:46,046 [main] ERROR c.g.c.e.GlobalExceptionHandler - [txn-01e786fe] [] Authentication error [txn-01e786fe]: Invalid credentials - uri=/api/login
2025-09-05 17:39:46,046 [main] ERROR c.g.c.config.TransactionInterceptor - [txn-01e786fe] [] Transaction completed with error [txn-01e786fe]: GET /api/login - Status: 401, Error: HTTP Error
2025-09-05 17:39:46,051 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-544efabc] [] Transaction started [txn-544efabc]: PUT /api/change-password
2025-09-05 17:39:46,053 [main] INFO  c.gym.crm.controller.GymController - [txn-544efabc] [] Password change request [txn-544efabc]: john.doe
2025-09-05 17:39:46,054 [main] ERROR c.g.c.e.GlobalExceptionHandler - [txn-544efabc] [] Authentication error [txn-544efabc]: Invalid credentials or user not found - uri=/api/change-password
2025-09-05 17:39:46,054 [main] ERROR c.g.c.config.TransactionInterceptor - [txn-544efabc] [] Transaction completed with error [txn-544efabc]: PUT /api/change-password - Status: 401, Error: HTTP Error
2025-09-05 17:39:46,057 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-86e0b9dd] [] Transaction started [txn-86e0b9dd]: GET /api/login
2025-09-05 17:39:46,057 [main] INFO  c.gym.crm.controller.GymController - [txn-86e0b9dd] [] User login attempt [txn-86e0b9dd]: jane.smith
2025-09-05 17:39:46,063 [main] INFO  c.gym.crm.controller.GymController - [txn-86e0b9dd] [] User login successful [txn-86e0b9dd]: jane.smith
2025-09-05 17:39:46,064 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-86e0b9dd] [] Transaction completed [txn-86e0b9dd]: GET /api/login - Status: 200
2025-09-05 17:39:46,067 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-7ddcc456] [] Transaction started [txn-7ddcc456]: PUT /api/change-password
2025-09-05 17:39:46,067 [main] INFO  c.gym.crm.controller.GymController - [txn-7ddcc456] [] Password change request [txn-7ddcc456]: john.doe
2025-09-05 17:39:46,067 [main] INFO  c.gym.crm.controller.GymController - [txn-7ddcc456] [] Password changed successfully [txn-7ddcc456]: john.doe
2025-09-05 17:39:46,067 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-7ddcc456] [] Transaction completed [txn-7ddcc456]: PUT /api/change-password - Status: 200
2025-09-05 17:39:46,070 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-e6d1b884] [] Transaction started [txn-e6d1b884]: PUT /api/change-password
2025-09-05 17:39:46,071 [main] INFO  c.gym.crm.controller.GymController - [txn-e6d1b884] [] Password change request [txn-e6d1b884]: jane.smith
2025-09-05 17:39:46,071 [main] INFO  c.gym.crm.controller.GymController - [txn-e6d1b884] [] Password changed successfully [txn-e6d1b884]: jane.smith
2025-09-05 17:39:46,071 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-e6d1b884] [] Transaction completed [txn-e6d1b884]: PUT /api/change-password - Status: 200
2025-09-05 17:39:46,074 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-cdda9524] [] Transaction started [txn-cdda9524]: POST /api/trainings
2025-09-05 17:39:46,075 [main] ERROR c.g.c.e.GlobalExceptionHandler - [txn-cdda9524] [] Validation error [txn-cdda9524]: Trainee username is required - uri=/api/trainings
2025-09-05 17:39:46,075 [main] ERROR c.g.c.config.TransactionInterceptor - [txn-cdda9524] [] Transaction completed with error [txn-cdda9524]: POST /api/trainings - Status: 400, Error: HTTP Error
2025-09-05 17:39:46,081 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - [] [] Could not detect default configuration classes for test class [com.gym.crm.actuator.ActuatorEndpointsTest]: ActuatorEndpointsTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-05 17:39:46,084 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - [] [] Found @SpringBootConfiguration com.gym.crm.CrmApplication for test class com.gym.crm.actuator.ActuatorEndpointsTest
2025-09-05 17:39:46,098 [main] INFO  c.g.c.actuator.ActuatorEndpointsTest - [] [] Starting ActuatorEndpointsTest using Java 23.0.1 with PID 21820 (started by marlenseiitzhan in /Users/marlenseiitzhan/Desktop/JAVA projects/crm)
2025-09-05 17:39:46,098 [main] INFO  c.g.c.actuator.ActuatorEndpointsTest - [] [] The following 1 profile is active: "test"
2025-09-05 17:39:46,243 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - [] [] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-05 17:39:46,249 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - [] [] Finished Spring Data repository scanning in 5 ms. Found 5 JPA repository interfaces.
2025-09-05 17:39:46,382 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - [] [] Tomcat initialized with port 0 (http)
2025-09-05 17:39:46,416 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - [] [] Root WebApplicationContext: initialization completed in 318 ms
2025-09-05 17:39:46,491 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - [] [] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-05 17:39:46,494 [main] WARN  org.hibernate.orm.deprecation - [] [] HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-05 17:39:46,520 [main] DEBUG org.hibernate.SQL - [] [] create global temporary table HTE_users(date_of_birth date, is_active boolean, HTE_IDENTITY bigint generated by default as identity, id bigint, address varchar(255), first_name varchar(255), last_name varchar(255), password varchar(255), username varchar(255), primary key (HTE_IDENTITY)) TRANSACTIONAL
2025-09-05 17:39:46,521 [main] DEBUG org.hibernate.SQL - [] [] create global temporary table HT_trainers(id bigint not null, primary key (id)) TRANSACTIONAL
2025-09-05 17:39:46,521 [main] DEBUG org.hibernate.SQL - [] [] create global temporary table HTE_trainers(is_active boolean, HTE_IDENTITY bigint generated by default as identity, id bigint, specialization_id bigint, first_name varchar(255), last_name varchar(255), password varchar(255), username varchar(255), primary key (HTE_IDENTITY)) TRANSACTIONAL
2025-09-05 17:39:46,521 [main] DEBUG org.hibernate.SQL - [] [] create global temporary table HT_trainees(id bigint not null, primary key (id)) TRANSACTIONAL
2025-09-05 17:39:46,522 [main] DEBUG org.hibernate.SQL - [] [] create global temporary table HTE_trainees(date_of_birth date, is_active boolean, HTE_IDENTITY bigint generated by default as identity, id bigint, address varchar(255), first_name varchar(255), last_name varchar(255), password varchar(255), username varchar(255), primary key (HTE_IDENTITY)) TRANSACTIONAL
2025-09-05 17:39:46,522 [main] DEBUG org.hibernate.SQL - [] [] create global temporary table HT_users(id bigint not null, primary key (id)) TRANSACTIONAL
2025-09-05 17:39:46,529 [main] DEBUG org.hibernate.SQL - [] [] drop table if exists trainee_trainer cascade 
2025-09-05 17:39:46,529 [main] DEBUG org.hibernate.SQL - [] [] drop table if exists trainees cascade 
2025-09-05 17:39:46,529 [main] DEBUG org.hibernate.SQL - [] [] drop table if exists trainers cascade 
2025-09-05 17:39:46,530 [main] DEBUG org.hibernate.SQL - [] [] drop table if exists training_types cascade 
2025-09-05 17:39:46,530 [main] DEBUG org.hibernate.SQL - [] [] drop table if exists trainings cascade 
2025-09-05 17:39:46,530 [main] DEBUG org.hibernate.SQL - [] [] drop table if exists users cascade 
2025-09-05 17:39:46,531 [main] DEBUG org.hibernate.SQL - [] [] create table trainee_trainer (trainee_id bigint not null, trainer_id bigint not null, primary key (trainee_id, trainer_id))
2025-09-05 17:39:46,531 [main] DEBUG org.hibernate.SQL - [] [] create table trainees (date_of_birth date, id bigint not null, address varchar(255), primary key (id))
2025-09-05 17:39:46,532 [main] DEBUG org.hibernate.SQL - [] [] create table trainers (id bigint not null, specialization_id bigint not null, primary key (id))
2025-09-05 17:39:46,532 [main] DEBUG org.hibernate.SQL - [] [] create table training_types (id bigint generated by default as identity, training_type_name varchar(255) not null unique, primary key (id))
2025-09-05 17:39:46,532 [main] DEBUG org.hibernate.SQL - [] [] create table trainings (training_date date not null, training_duration integer not null, id bigint generated by default as identity, trainee_id bigint not null, trainer_id bigint not null, training_type_id bigint not null, training_name varchar(255) not null, primary key (id))
2025-09-05 17:39:46,533 [main] DEBUG org.hibernate.SQL - [] [] create table users (is_active boolean not null, id bigint generated by default as identity, first_name varchar(255) not null, last_name varchar(255) not null, password varchar(255) not null, username varchar(255) not null unique, primary key (id))
2025-09-05 17:39:46,533 [main] DEBUG org.hibernate.SQL - [] [] alter table if exists trainee_trainer add constraint FKsis342w57b177o84peanydlrp foreign key (trainer_id) references trainers
2025-09-05 17:39:46,534 [main] DEBUG org.hibernate.SQL - [] [] alter table if exists trainee_trainer add constraint FK27f1le516f824l8owvnc4mvs1 foreign key (trainee_id) references trainees
2025-09-05 17:39:46,534 [main] DEBUG org.hibernate.SQL - [] [] alter table if exists trainees add constraint FKmmcvdm376irbqxxp23un1f1sb foreign key (id) references users
2025-09-05 17:39:46,535 [main] DEBUG org.hibernate.SQL - [] [] alter table if exists trainers add constraint FK7cbp7k5ur2e10a5nj424nu1tv foreign key (specialization_id) references training_types
2025-09-05 17:39:46,535 [main] DEBUG org.hibernate.SQL - [] [] alter table if exists trainers add constraint FKfuw99amb6fcrji1245ooioikb foreign key (id) references users
2025-09-05 17:39:46,536 [main] DEBUG org.hibernate.SQL - [] [] alter table if exists trainings add constraint FK4btmw0yu4tbogiw8qi0ewba74 foreign key (trainee_id) references trainees
2025-09-05 17:39:46,536 [main] DEBUG org.hibernate.SQL - [] [] alter table if exists trainings add constraint FKbqwj5wievnuonuxv60wg6rr48 foreign key (trainer_id) references trainers
2025-09-05 17:39:46,537 [main] DEBUG org.hibernate.SQL - [] [] alter table if exists trainings add constraint FKovn6ewpej7cxhjx55tovddhnj foreign key (training_type_id) references training_types
2025-09-05 17:39:46,537 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - [] [] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-05 17:39:46,583 [main] INFO  com.gym.crm.facade.GymCrmFacade - [] [] GymCrmFacade initialized with all services
2025-09-05 17:39:46,585 [main] INFO  c.g.c.s.DataInitializationService - [] [] Initializing database with training types
2025-09-05 17:39:46,587 [main] DEBUG org.hibernate.SQL - [] [] select tt1_0.id,tt1_0.training_type_name from training_types tt1_0 where tt1_0.training_type_name=?
2025-09-05 17:39:46,592 [main] DEBUG org.hibernate.SQL - [] [] insert into training_types (training_type_name,id) values (?,default)
2025-09-05 17:39:46,594 [main] DEBUG org.hibernate.SQL - [] [] select tt1_0.id,tt1_0.training_type_name from training_types tt1_0 where tt1_0.training_type_name=?
2025-09-05 17:39:46,595 [main] DEBUG org.hibernate.SQL - [] [] insert into training_types (training_type_name,id) values (?,default)
2025-09-05 17:39:46,597 [main] DEBUG org.hibernate.SQL - [] [] select tt1_0.id,tt1_0.training_type_name from training_types tt1_0 where tt1_0.training_type_name=?
2025-09-05 17:39:46,597 [main] DEBUG org.hibernate.SQL - [] [] insert into training_types (training_type_name,id) values (?,default)
2025-09-05 17:39:46,598 [main] DEBUG org.hibernate.SQL - [] [] select tt1_0.id,tt1_0.training_type_name from training_types tt1_0 where tt1_0.training_type_name=?
2025-09-05 17:39:46,599 [main] DEBUG org.hibernate.SQL - [] [] insert into training_types (training_type_name,id) values (?,default)
2025-09-05 17:39:46,599 [main] DEBUG org.hibernate.SQL - [] [] select tt1_0.id,tt1_0.training_type_name from training_types tt1_0 where tt1_0.training_type_name=?
2025-09-05 17:39:46,600 [main] DEBUG org.hibernate.SQL - [] [] insert into training_types (training_type_name,id) values (?,default)
2025-09-05 17:39:46,601 [main] DEBUG org.hibernate.SQL - [] [] select tt1_0.id,tt1_0.training_type_name from training_types tt1_0 where tt1_0.training_type_name=?
2025-09-05 17:39:46,602 [main] DEBUG org.hibernate.SQL - [] [] insert into training_types (training_type_name,id) values (?,default)
2025-09-05 17:39:46,603 [main] DEBUG org.hibernate.SQL - [] [] select tt1_0.id,tt1_0.training_type_name from training_types tt1_0 where tt1_0.training_type_name=?
2025-09-05 17:39:46,604 [main] DEBUG org.hibernate.SQL - [] [] insert into training_types (training_type_name,id) values (?,default)
2025-09-05 17:39:46,605 [main] DEBUG org.hibernate.SQL - [] [] select tt1_0.id,tt1_0.training_type_name from training_types tt1_0 where tt1_0.training_type_name=?
2025-09-05 17:39:46,606 [main] DEBUG org.hibernate.SQL - [] [] insert into training_types (training_type_name,id) values (?,default)
2025-09-05 17:39:46,607 [main] DEBUG org.hibernate.SQL - [] [] select count(*) from training_types tt1_0
2025-09-05 17:39:46,607 [main] INFO  c.g.c.s.DataInitializationService - [] [] Training types initialization completed. Total types: 8
2025-09-05 17:39:46,629 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - [] [] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-05 17:39:46,763 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - [] [] Exposing 5 endpoints beneath base path '/actuator'
2025-09-05 17:39:46,903 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - [] [] Tomcat started on port 49250 (http) with context path '/'
2025-09-05 17:39:46,906 [main] INFO  c.g.c.actuator.ActuatorEndpointsTest - [] [] Started ActuatorEndpointsTest in 0.82 seconds (process running for 6.622)
2025-09-05 17:39:46,963 [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet - [] [] Initializing Servlet 'dispatcherServlet'
2025-09-05 17:39:46,963 [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet - [] [] Completed initialization in 0 ms
2025-09-05 17:39:47,095 [http-nio-auto-1-exec-6] INFO  c.g.c.config.TransactionInterceptor - [txn-40d505ec] [] Transaction started [txn-40d505ec]: GET /actuator/prometheus
2025-09-05 17:39:47,097 [http-nio-auto-1-exec-6] ERROR c.g.c.e.GlobalExceptionHandler - [txn-40d505ec] [] Unexpected error [txn-40d505ec]: No static resource actuator/prometheus. - uri=/actuator/prometheus
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource actuator/prometheus.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-05 17:39:47,099 [http-nio-auto-1-exec-6] ERROR c.g.c.config.TransactionInterceptor - [txn-40d505ec] [] Transaction completed with error [txn-40d505ec]: GET /actuator/prometheus - Status: 500, Error: HTTP Error
2025-09-05 17:39:47,244 [main] INFO  c.g.c.service.AuthenticationService - [] [] Trainee authentication successful for username: alice.johnson
2025-09-05 17:39:47,247 [main] WARN  c.g.c.service.AuthenticationService - [] [] Trainer authentication failed for username: john.doe
2025-09-05 17:39:47,247 [main] INFO  c.g.c.service.AuthenticationService - [] [] Trainer authentication successful for username: john.doe
2025-09-05 17:39:47,248 [main] WARN  c.g.c.service.AuthenticationService - [] [] Trainer authentication failed for username: nonexistent
2025-09-05 17:39:47,249 [main] INFO  c.g.c.service.AuthenticationService - [] [] Trainer authentication successful for username: john.doe
2025-09-05 17:39:47,249 [main] INFO  c.g.c.service.AuthenticationService - [] [] Trainee authentication successful for username: alice.johnson
2025-09-05 17:39:47,251 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - [] [] Could not detect default configuration classes for test class [com.gym.crm.logging.LoggingEnhancementTest]: LoggingEnhancementTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-05 17:39:47,254 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - [] [] Found @SpringBootConfiguration com.gym.crm.CrmApplication for test class com.gym.crm.logging.LoggingEnhancementTest
2025-09-05 17:39:47,257 [main] INFO  com.gym.crm.service.AuditService - [] [] AUDIT_PROFILE_UPDATE [null]: TRAINER profile updated: updateuser - Changes: {firstName=NewFirstName, isActive=true}
2025-09-05 17:39:47,259 [main] INFO  com.gym.crm.service.AuditService - [] [] AUDIT_AUTH_SUCCESS [null]: User 'testuser' authenticated successfully from web
2025-09-05 17:39:47,262 [main] INFO  com.gym.crm.service.AuditService - [] [] AUDIT_TRAINING_CREATED [null]: Training 'Morning Workout' created - Trainee: trainee1, Trainer: trainer1
2025-09-05 17:39:47,264 [main] INFO  com.gym.crm.service.AuditService - [] [] AUDIT_ACCOUNT_STATUS [null]: TRAINEE account activated for user: statususer
2025-09-05 17:39:47,264 [main] INFO  com.gym.crm.service.AuditService - [] [] AUDIT_ACCOUNT_STATUS [null]: TRAINEE account deactivated for user: statususer
2025-09-05 17:39:47,266 [main] INFO  com.gym.crm.service.AuditService - [] [] AUDIT_USER_REGISTRATION [null]: New TRAINEE registered: newuser
2025-09-05 17:39:47,268 [main] WARN  com.gym.crm.service.AuditService - [] [] AUDIT_ACCOUNT_DELETION [null]: TRAINER account deleted: deleteuser
2025-09-05 17:39:47,273 [main] INFO  com.gym.crm.service.AuditService - [] [] AUDIT_PASSWORD_CHANGE [null]: Password changed for user: passworduser
2025-09-05 17:39:47,282 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - [] [] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-05 17:39:47,283 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists trainee_trainer cascade 
2025-09-05 17:39:47,283 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists trainees cascade 
2025-09-05 17:39:47,283 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists trainers cascade 
2025-09-05 17:39:47,283 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists training_types cascade 
2025-09-05 17:39:47,283 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists trainings cascade 
2025-09-05 17:39:47,284 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists users cascade 
2025-09-05 17:39:47,288 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - [] [] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-05 17:39:47,288 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] drop table if exists trainee_trainer cascade 
2025-09-05 17:39:47,289 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] drop table if exists trainees cascade 
2025-09-05 17:39:47,289 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] drop table if exists trainers cascade 
2025-09-05 17:39:47,289 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] drop table if exists training_types cascade 
2025-09-05 17:39:47,289 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] drop table if exists trainings cascade 
2025-09-05 17:39:47,289 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] drop table if exists users cascade 
2025-09-05 17:39:47,291 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - [] [] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-05 17:39:47,291 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists trainee_trainer cascade 
2025-09-05 17:39:47,291 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists trainees cascade 
2025-09-05 17:39:47,291 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists trainers cascade 
2025-09-05 17:39:47,292 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists training_types cascade 
2025-09-05 17:39:47,292 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists trainings cascade 
2025-09-05 17:39:47,292 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists users cascade 
2025-09-05 17:39:47,293 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - [] [] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-05 17:39:47,293 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists trainee_trainer cascade 
2025-09-05 17:39:47,294 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists trainees cascade 
2025-09-05 17:39:47,294 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists trainers cascade 
2025-09-05 17:39:47,294 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists training_types cascade 
2025-09-05 17:39:47,294 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists trainings cascade 
2025-09-05 17:39:47,294 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists users cascade 
2025-09-05 17:39:47,297 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - [] [] Commencing graceful shutdown. Waiting for active requests to complete
2025-09-05 17:39:49,304 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - [] [] Graceful shutdown complete
2025-09-05 17:39:49,306 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - [] [] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-05 17:39:49,306 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] drop table if exists trainee_trainer cascade 
2025-09-05 17:39:49,306 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] drop table if exists trainees cascade 
2025-09-05 17:39:49,306 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] drop table if exists trainers cascade 
2025-09-05 17:39:49,306 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] drop table if exists training_types cascade 
2025-09-05 17:39:49,306 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] drop table if exists trainings cascade 
2025-09-05 17:39:49,306 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] drop table if exists users cascade 
2025-09-05 17:40:17,304 [main] INFO  com.gym.crm.CrmApplicationTests - [] [] Starting CrmApplicationTests using Java 23.0.1 with PID 22009 (started by marlenseiitzhan in /Users/marlenseiitzhan/Desktop/JAVA projects/crm)
2025-09-05 17:40:17,304 [main] DEBUG com.gym.crm.CrmApplicationTests - [] [] Running with Spring Boot v3.5.3, Spring v6.2.8
2025-09-05 17:40:17,305 [main] INFO  com.gym.crm.CrmApplicationTests - [] [] The following 1 profile is active: "local"
2025-09-05 17:40:17,806 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - [] [] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-05 17:40:17,840 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - [] [] Finished Spring Data repository scanning in 27 ms. Found 5 JPA repository interfaces.
2025-09-05 17:40:18,248 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - [] [] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-05 17:40:18,263 [main] INFO  com.zaxxer.hikari.HikariDataSource - [] [] HikariPool-1 - Starting...
2025-09-05 17:40:18,335 [main] INFO  com.zaxxer.hikari.pool.HikariPool - [] [] HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:gymcrm-local user=SA
2025-09-05 17:40:18,336 [main] INFO  com.zaxxer.hikari.HikariDataSource - [] [] HikariPool-1 - Start completed.
2025-09-05 17:40:18,349 [main] WARN  org.hibernate.orm.deprecation - [] [] HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-05 17:40:18,753 [main] DEBUG org.hibernate.SQL - [] [] 
    create global temporary table HTE_users(date_of_birth date, is_active boolean, HTE_IDENTITY bigint generated 
by
    default as identity, id bigint, address varchar(255), first_name varchar(255), last_name varchar(255), password varchar(255), username varchar(255), primary key (HTE_IDENTITY)) TRANSACTIONAL
2025-09-05 17:40:18,760 [main] DEBUG org.hibernate.SQL - [] [] 
    create global temporary table HT_trainers(id bigint not null, primary key (id)) TRANSACTIONAL
2025-09-05 17:40:18,761 [main] DEBUG org.hibernate.SQL - [] [] 
    create global temporary table HTE_trainers(is_active boolean, HTE_IDENTITY bigint generated 
by
    default as identity, id bigint, specialization_id bigint, first_name varchar(255), last_name varchar(255), password varchar(255), username varchar(255), primary key (HTE_IDENTITY)) TRANSACTIONAL
2025-09-05 17:40:18,761 [main] DEBUG org.hibernate.SQL - [] [] 
    create global temporary table HT_trainees(id bigint not null, primary key (id)) TRANSACTIONAL
2025-09-05 17:40:18,762 [main] DEBUG org.hibernate.SQL - [] [] 
    create global temporary table HTE_trainees(date_of_birth date, is_active boolean, HTE_IDENTITY bigint generated 
by
    default as identity, id bigint, address varchar(255), first_name varchar(255), last_name varchar(255), password varchar(255), username varchar(255), primary key (HTE_IDENTITY)) TRANSACTIONAL
2025-09-05 17:40:18,762 [main] DEBUG org.hibernate.SQL - [] [] 
    create global temporary table HT_users(id bigint not null, primary key (id)) TRANSACTIONAL
2025-09-05 17:40:18,824 [main] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists trainee_trainer cascade 
2025-09-05 17:40:18,825 [main] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists trainees cascade 
2025-09-05 17:40:18,825 [main] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists trainers cascade 
2025-09-05 17:40:18,825 [main] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists training_types cascade 
2025-09-05 17:40:18,825 [main] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists trainings cascade 
2025-09-05 17:40:18,825 [main] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists users cascade 
2025-09-05 17:40:18,829 [main] DEBUG org.hibernate.SQL - [] [] 
    create table trainee_trainer (
        trainee_id bigint not null,
        trainer_id bigint not null,
        primary key (trainee_id, trainer_id)
    )
2025-09-05 17:40:18,830 [main] DEBUG org.hibernate.SQL - [] [] 
    create table trainees (
        date_of_birth date,
        id bigint not null,
        address varchar(255),
        primary key (id)
    )
2025-09-05 17:40:18,831 [main] DEBUG org.hibernate.SQL - [] [] 
    create table trainers (
        id bigint not null,
        specialization_id bigint not null,
        primary key (id)
    )
2025-09-05 17:40:18,832 [main] DEBUG org.hibernate.SQL - [] [] 
    create table training_types (
        id bigint generated by default as identity,
        training_type_name varchar(255) not null unique,
        primary key (id)
    )
2025-09-05 17:40:18,833 [main] DEBUG org.hibernate.SQL - [] [] 
    create table trainings (
        training_date date not null,
        training_duration integer not null,
        id bigint generated by default as identity,
        trainee_id bigint not null,
        trainer_id bigint not null,
        training_type_id bigint not null,
        training_name varchar(255) not null,
        primary key (id)
    )
2025-09-05 17:40:18,833 [main] DEBUG org.hibernate.SQL - [] [] 
    create table users (
        is_active boolean not null,
        id bigint generated by default as identity,
        first_name varchar(255) not null,
        last_name varchar(255) not null,
        password varchar(255) not null,
        username varchar(255) not null unique,
        primary key (id)
    )
2025-09-05 17:40:18,834 [main] DEBUG org.hibernate.SQL - [] [] 
    alter table if exists trainee_trainer 
       add constraint FKsis342w57b177o84peanydlrp 
       foreign key (trainer_id) 
       references trainers
2025-09-05 17:40:18,840 [main] DEBUG org.hibernate.SQL - [] [] 
    alter table if exists trainee_trainer 
       add constraint FK27f1le516f824l8owvnc4mvs1 
       foreign key (trainee_id) 
       references trainees
2025-09-05 17:40:18,841 [main] DEBUG org.hibernate.SQL - [] [] 
    alter table if exists trainees 
       add constraint FKmmcvdm376irbqxxp23un1f1sb 
       foreign key (id) 
       references users
2025-09-05 17:40:18,842 [main] DEBUG org.hibernate.SQL - [] [] 
    alter table if exists trainers 
       add constraint FK7cbp7k5ur2e10a5nj424nu1tv 
       foreign key (specialization_id) 
       references training_types
2025-09-05 17:40:18,843 [main] DEBUG org.hibernate.SQL - [] [] 
    alter table if exists trainers 
       add constraint FKfuw99amb6fcrji1245ooioikb 
       foreign key (id) 
       references users
2025-09-05 17:40:18,843 [main] DEBUG org.hibernate.SQL - [] [] 
    alter table if exists trainings 
       add constraint FK4btmw0yu4tbogiw8qi0ewba74 
       foreign key (trainee_id) 
       references trainees
2025-09-05 17:40:18,844 [main] DEBUG org.hibernate.SQL - [] [] 
    alter table if exists trainings 
       add constraint FKbqwj5wievnuonuxv60wg6rr48 
       foreign key (trainer_id) 
       references trainers
2025-09-05 17:40:18,845 [main] DEBUG org.hibernate.SQL - [] [] 
    alter table if exists trainings 
       add constraint FKovn6ewpej7cxhjx55tovddhnj 
       foreign key (training_type_id) 
       references training_types
2025-09-05 17:40:18,847 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - [] [] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-05 17:40:19,000 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - [] [] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-05 17:40:19,694 [main] INFO  com.gym.crm.facade.GymCrmFacade - [] [] GymCrmFacade initialized with all services
2025-09-05 17:40:19,702 [main] INFO  c.g.c.s.DataInitializationService - [] [] Initializing database with training types
2025-09-05 17:40:19,750 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        tt1_0.id,
        tt1_0.training_type_name 
    from
        training_types tt1_0 
    where
        tt1_0.training_type_name=?
2025-09-05 17:40:19,818 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        training_types
        (training_type_name, id) 
    values
        (?, default)
2025-09-05 17:40:19,828 [main] DEBUG c.g.c.s.DataInitializationService - [] [] Created training type: Fitness
2025-09-05 17:40:19,828 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        tt1_0.id,
        tt1_0.training_type_name 
    from
        training_types tt1_0 
    where
        tt1_0.training_type_name=?
2025-09-05 17:40:19,829 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        training_types
        (training_type_name, id) 
    values
        (?, default)
2025-09-05 17:40:19,830 [main] DEBUG c.g.c.s.DataInitializationService - [] [] Created training type: Yoga
2025-09-05 17:40:19,831 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        tt1_0.id,
        tt1_0.training_type_name 
    from
        training_types tt1_0 
    where
        tt1_0.training_type_name=?
2025-09-05 17:40:19,832 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        training_types
        (training_type_name, id) 
    values
        (?, default)
2025-09-05 17:40:19,833 [main] DEBUG c.g.c.s.DataInitializationService - [] [] Created training type: CrossFit
2025-09-05 17:40:19,834 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        tt1_0.id,
        tt1_0.training_type_name 
    from
        training_types tt1_0 
    where
        tt1_0.training_type_name=?
2025-09-05 17:40:19,835 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        training_types
        (training_type_name, id) 
    values
        (?, default)
2025-09-05 17:40:19,835 [main] DEBUG c.g.c.s.DataInitializationService - [] [] Created training type: Pilates
2025-09-05 17:40:19,836 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        tt1_0.id,
        tt1_0.training_type_name 
    from
        training_types tt1_0 
    where
        tt1_0.training_type_name=?
2025-09-05 17:40:19,837 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        training_types
        (training_type_name, id) 
    values
        (?, default)
2025-09-05 17:40:19,837 [main] DEBUG c.g.c.s.DataInitializationService - [] [] Created training type: Cardio
2025-09-05 17:40:19,838 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        tt1_0.id,
        tt1_0.training_type_name 
    from
        training_types tt1_0 
    where
        tt1_0.training_type_name=?
2025-09-05 17:40:19,838 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        training_types
        (training_type_name, id) 
    values
        (?, default)
2025-09-05 17:40:19,839 [main] DEBUG c.g.c.s.DataInitializationService - [] [] Created training type: Strength Training
2025-09-05 17:40:19,839 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        tt1_0.id,
        tt1_0.training_type_name 
    from
        training_types tt1_0 
    where
        tt1_0.training_type_name=?
2025-09-05 17:40:19,840 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        training_types
        (training_type_name, id) 
    values
        (?, default)
2025-09-05 17:40:19,841 [main] DEBUG c.g.c.s.DataInitializationService - [] [] Created training type: Weight Loss
2025-09-05 17:40:19,842 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        tt1_0.id,
        tt1_0.training_type_name 
    from
        training_types tt1_0 
    where
        tt1_0.training_type_name=?
2025-09-05 17:40:19,843 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        training_types
        (training_type_name, id) 
    values
        (?, default)
2025-09-05 17:40:19,843 [main] DEBUG c.g.c.s.DataInitializationService - [] [] Created training type: Muscle Building
2025-09-05 17:40:19,853 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        count(*) 
    from
        training_types tt1_0
2025-09-05 17:40:19,854 [main] INFO  c.g.c.s.DataInitializationService - [] [] Training types initialization completed. Total types: 8
2025-09-05 17:40:19,948 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - [] [] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-05 17:40:20,237 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - [] [] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:gymcrm-local'
2025-09-05 17:40:20,253 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - [] [] Exposing 5 endpoints beneath base path '/actuator'
2025-09-05 17:40:20,287 [main] INFO  com.gym.crm.CrmApplicationTests - [] [] Started CrmApplicationTests in 3.217 seconds (process running for 3.817)
2025-09-05 17:40:20,593 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - [] [] Could not detect default configuration classes for test class [com.gym.crm.metrics.MetricsIntegrationTest]: MetricsIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-05 17:40:20,597 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - [] [] Found @SpringBootConfiguration com.gym.crm.CrmApplication for test class com.gym.crm.metrics.MetricsIntegrationTest
2025-09-05 17:40:20,612 [main] INFO  c.g.c.metrics.MetricsIntegrationTest - [] [] Starting MetricsIntegrationTest using Java 23.0.1 with PID 22009 (started by marlenseiitzhan in /Users/marlenseiitzhan/Desktop/JAVA projects/crm)
2025-09-05 17:40:20,613 [main] INFO  c.g.c.metrics.MetricsIntegrationTest - [] [] The following 1 profile is active: "test"
2025-09-05 17:40:20,712 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - [] [] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-05 17:40:20,726 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - [] [] Finished Spring Data repository scanning in 12 ms. Found 5 JPA repository interfaces.
2025-09-05 17:40:20,759 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - [] [] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-05 17:40:20,761 [main] WARN  org.hibernate.orm.deprecation - [] [] HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-05 17:40:20,794 [main] DEBUG org.hibernate.SQL - [] [] create global temporary table HTE_users(date_of_birth date, is_active boolean, HTE_IDENTITY bigint generated by default as identity, id bigint, address varchar(255), first_name varchar(255), last_name varchar(255), password varchar(255), username varchar(255), primary key (HTE_IDENTITY)) TRANSACTIONAL
2025-09-05 17:40:20,795 [main] DEBUG org.hibernate.SQL - [] [] create global temporary table HT_trainers(id bigint not null, primary key (id)) TRANSACTIONAL
2025-09-05 17:40:20,795 [main] DEBUG org.hibernate.SQL - [] [] create global temporary table HTE_trainers(is_active boolean, HTE_IDENTITY bigint generated by default as identity, id bigint, specialization_id bigint, first_name varchar(255), last_name varchar(255), password varchar(255), username varchar(255), primary key (HTE_IDENTITY)) TRANSACTIONAL
2025-09-05 17:40:20,796 [main] DEBUG org.hibernate.SQL - [] [] create global temporary table HT_trainees(id bigint not null, primary key (id)) TRANSACTIONAL
2025-09-05 17:40:20,796 [main] DEBUG org.hibernate.SQL - [] [] create global temporary table HTE_trainees(date_of_birth date, is_active boolean, HTE_IDENTITY bigint generated by default as identity, id bigint, address varchar(255), first_name varchar(255), last_name varchar(255), password varchar(255), username varchar(255), primary key (HTE_IDENTITY)) TRANSACTIONAL
2025-09-05 17:40:20,796 [main] DEBUG org.hibernate.SQL - [] [] create global temporary table HT_users(id bigint not null, primary key (id)) TRANSACTIONAL
2025-09-05 17:40:20,800 [main] DEBUG org.hibernate.SQL - [] [] drop table if exists trainee_trainer cascade 
2025-09-05 17:40:20,801 [main] DEBUG org.hibernate.SQL - [] [] drop table if exists trainees cascade 
2025-09-05 17:40:20,801 [main] DEBUG org.hibernate.SQL - [] [] drop table if exists trainers cascade 
2025-09-05 17:40:20,801 [main] DEBUG org.hibernate.SQL - [] [] drop table if exists training_types cascade 
2025-09-05 17:40:20,801 [main] DEBUG org.hibernate.SQL - [] [] drop table if exists trainings cascade 
2025-09-05 17:40:20,801 [main] DEBUG org.hibernate.SQL - [] [] drop table if exists users cascade 
2025-09-05 17:40:20,801 [main] DEBUG org.hibernate.SQL - [] [] create table trainee_trainer (trainee_id bigint not null, trainer_id bigint not null, primary key (trainee_id, trainer_id))
2025-09-05 17:40:20,802 [main] DEBUG org.hibernate.SQL - [] [] create table trainees (date_of_birth date, id bigint not null, address varchar(255), primary key (id))
2025-09-05 17:40:20,802 [main] DEBUG org.hibernate.SQL - [] [] create table trainers (id bigint not null, specialization_id bigint not null, primary key (id))
2025-09-05 17:40:20,802 [main] DEBUG org.hibernate.SQL - [] [] create table training_types (id bigint generated by default as identity, training_type_name varchar(255) not null unique, primary key (id))
2025-09-05 17:40:20,803 [main] DEBUG org.hibernate.SQL - [] [] create table trainings (training_date date not null, training_duration integer not null, id bigint generated by default as identity, trainee_id bigint not null, trainer_id bigint not null, training_type_id bigint not null, training_name varchar(255) not null, primary key (id))
2025-09-05 17:40:20,803 [main] DEBUG org.hibernate.SQL - [] [] create table users (is_active boolean not null, id bigint generated by default as identity, first_name varchar(255) not null, last_name varchar(255) not null, password varchar(255) not null, username varchar(255) not null unique, primary key (id))
2025-09-05 17:40:20,804 [main] DEBUG org.hibernate.SQL - [] [] alter table if exists trainee_trainer add constraint FKsis342w57b177o84peanydlrp foreign key (trainer_id) references trainers
2025-09-05 17:40:20,804 [main] DEBUG org.hibernate.SQL - [] [] alter table if exists trainee_trainer add constraint FK27f1le516f824l8owvnc4mvs1 foreign key (trainee_id) references trainees
2025-09-05 17:40:20,805 [main] DEBUG org.hibernate.SQL - [] [] alter table if exists trainees add constraint FKmmcvdm376irbqxxp23un1f1sb foreign key (id) references users
2025-09-05 17:40:20,805 [main] DEBUG org.hibernate.SQL - [] [] alter table if exists trainers add constraint FK7cbp7k5ur2e10a5nj424nu1tv foreign key (specialization_id) references training_types
2025-09-05 17:40:20,806 [main] DEBUG org.hibernate.SQL - [] [] alter table if exists trainers add constraint FKfuw99amb6fcrji1245ooioikb foreign key (id) references users
2025-09-05 17:40:20,806 [main] DEBUG org.hibernate.SQL - [] [] alter table if exists trainings add constraint FK4btmw0yu4tbogiw8qi0ewba74 foreign key (trainee_id) references trainees
2025-09-05 17:40:20,807 [main] DEBUG org.hibernate.SQL - [] [] alter table if exists trainings add constraint FKbqwj5wievnuonuxv60wg6rr48 foreign key (trainer_id) references trainers
2025-09-05 17:40:20,808 [main] DEBUG org.hibernate.SQL - [] [] alter table if exists trainings add constraint FKovn6ewpej7cxhjx55tovddhnj foreign key (training_type_id) references training_types
2025-09-05 17:40:20,809 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - [] [] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-05 17:40:20,837 [main] INFO  com.gym.crm.facade.GymCrmFacade - [] [] GymCrmFacade initialized with all services
2025-09-05 17:40:20,838 [main] INFO  c.g.c.s.DataInitializationService - [] [] Initializing database with training types
2025-09-05 17:40:20,839 [main] DEBUG org.hibernate.SQL - [] [] select tt1_0.id,tt1_0.training_type_name from training_types tt1_0 where tt1_0.training_type_name=?
2025-09-05 17:40:20,845 [main] DEBUG org.hibernate.SQL - [] [] insert into training_types (training_type_name,id) values (?,default)
2025-09-05 17:40:20,847 [main] DEBUG org.hibernate.SQL - [] [] select tt1_0.id,tt1_0.training_type_name from training_types tt1_0 where tt1_0.training_type_name=?
2025-09-05 17:40:20,847 [main] DEBUG org.hibernate.SQL - [] [] insert into training_types (training_type_name,id) values (?,default)
2025-09-05 17:40:20,849 [main] DEBUG org.hibernate.SQL - [] [] select tt1_0.id,tt1_0.training_type_name from training_types tt1_0 where tt1_0.training_type_name=?
2025-09-05 17:40:20,849 [main] DEBUG org.hibernate.SQL - [] [] insert into training_types (training_type_name,id) values (?,default)
2025-09-05 17:40:20,850 [main] DEBUG org.hibernate.SQL - [] [] select tt1_0.id,tt1_0.training_type_name from training_types tt1_0 where tt1_0.training_type_name=?
2025-09-05 17:40:20,851 [main] DEBUG org.hibernate.SQL - [] [] insert into training_types (training_type_name,id) values (?,default)
2025-09-05 17:40:20,852 [main] DEBUG org.hibernate.SQL - [] [] select tt1_0.id,tt1_0.training_type_name from training_types tt1_0 where tt1_0.training_type_name=?
2025-09-05 17:40:20,852 [main] DEBUG org.hibernate.SQL - [] [] insert into training_types (training_type_name,id) values (?,default)
2025-09-05 17:40:20,853 [main] DEBUG org.hibernate.SQL - [] [] select tt1_0.id,tt1_0.training_type_name from training_types tt1_0 where tt1_0.training_type_name=?
2025-09-05 17:40:20,853 [main] DEBUG org.hibernate.SQL - [] [] insert into training_types (training_type_name,id) values (?,default)
2025-09-05 17:40:20,854 [main] DEBUG org.hibernate.SQL - [] [] select tt1_0.id,tt1_0.training_type_name from training_types tt1_0 where tt1_0.training_type_name=?
2025-09-05 17:40:20,854 [main] DEBUG org.hibernate.SQL - [] [] insert into training_types (training_type_name,id) values (?,default)
2025-09-05 17:40:20,855 [main] DEBUG org.hibernate.SQL - [] [] select tt1_0.id,tt1_0.training_type_name from training_types tt1_0 where tt1_0.training_type_name=?
2025-09-05 17:40:20,856 [main] DEBUG org.hibernate.SQL - [] [] insert into training_types (training_type_name,id) values (?,default)
2025-09-05 17:40:20,857 [main] DEBUG org.hibernate.SQL - [] [] select count(*) from training_types tt1_0
2025-09-05 17:40:20,858 [main] INFO  c.g.c.s.DataInitializationService - [] [] Training types initialization completed. Total types: 8
2025-09-05 17:40:20,872 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - [] [] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-05 17:40:20,932 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - [] [] Exposing 5 endpoints beneath base path '/actuator'
2025-09-05 17:40:20,942 [main] INFO  c.g.c.metrics.MetricsIntegrationTest - [] [] Started MetricsIntegrationTest in 0.34 seconds (process running for 4.472)
2025-09-05 17:40:20,970 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - [] [] Could not detect default configuration classes for test class [com.gym.crm.integration.GymCrmIntegrationTest]: GymCrmIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-05 17:40:20,974 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - [] [] Found @SpringBootConfiguration com.gym.crm.CrmApplication for test class com.gym.crm.integration.GymCrmIntegrationTest
2025-09-05 17:40:21,060 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - [] [] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-05 17:40:21,065 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - [] [] Finished Spring Data repository scanning in 4 ms. Found 5 JPA repository interfaces.
2025-09-05 17:40:21,099 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - [] [] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-05 17:40:21,100 [main] INFO  com.zaxxer.hikari.HikariDataSource - [] [] HikariPool-3 - Starting...
2025-09-05 17:40:21,100 [main] INFO  com.zaxxer.hikari.pool.HikariPool - [] [] HikariPool-3 - Added connection conn18: url=jdbc:h2:mem:gymcrm-local user=SA
2025-09-05 17:40:21,101 [main] INFO  com.zaxxer.hikari.HikariDataSource - [] [] HikariPool-3 - Start completed.
2025-09-05 17:40:21,101 [main] WARN  org.hibernate.orm.deprecation - [] [] HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-05 17:40:21,130 [main] DEBUG org.hibernate.SQL - [] [] 
    create global temporary table HTE_users(date_of_birth date, is_active boolean, HTE_IDENTITY bigint generated 
by
    default as identity, id bigint, address varchar(255), first_name varchar(255), last_name varchar(255), password varchar(255), username varchar(255), primary key (HTE_IDENTITY)) TRANSACTIONAL
2025-09-05 17:40:21,135 [main] DEBUG org.hibernate.SQL - [] [] 
    create global temporary table HT_trainers(id bigint not null, primary key (id)) TRANSACTIONAL
2025-09-05 17:40:21,135 [main] DEBUG org.hibernate.SQL - [] [] 
    create global temporary table HTE_trainers(is_active boolean, HTE_IDENTITY bigint generated 
by
    default as identity, id bigint, specialization_id bigint, first_name varchar(255), last_name varchar(255), password varchar(255), username varchar(255), primary key (HTE_IDENTITY)) TRANSACTIONAL
2025-09-05 17:40:21,136 [main] DEBUG org.hibernate.SQL - [] [] 
    create global temporary table HT_trainees(id bigint not null, primary key (id)) TRANSACTIONAL
2025-09-05 17:40:21,136 [main] DEBUG org.hibernate.SQL - [] [] 
    create global temporary table HTE_trainees(date_of_birth date, is_active boolean, HTE_IDENTITY bigint generated 
by
    default as identity, id bigint, address varchar(255), first_name varchar(255), last_name varchar(255), password varchar(255), username varchar(255), primary key (HTE_IDENTITY)) TRANSACTIONAL
2025-09-05 17:40:21,136 [main] DEBUG org.hibernate.SQL - [] [] 
    create global temporary table HT_users(id bigint not null, primary key (id)) TRANSACTIONAL
2025-09-05 17:40:21,140 [main] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists trainee_trainer cascade 
2025-09-05 17:40:21,141 [main] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists trainees cascade 
2025-09-05 17:40:21,142 [main] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists trainers cascade 
2025-09-05 17:40:21,142 [main] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists training_types cascade 
2025-09-05 17:40:21,142 [main] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists trainings cascade 
2025-09-05 17:40:21,142 [main] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists users cascade 
2025-09-05 17:40:21,143 [main] DEBUG org.hibernate.SQL - [] [] 
    create table trainee_trainer (
        trainee_id bigint not null,
        trainer_id bigint not null,
        primary key (trainee_id, trainer_id)
    )
2025-09-05 17:40:21,143 [main] DEBUG org.hibernate.SQL - [] [] 
    create table trainees (
        date_of_birth date,
        id bigint not null,
        address varchar(255),
        primary key (id)
    )
2025-09-05 17:40:21,143 [main] DEBUG org.hibernate.SQL - [] [] 
    create table trainers (
        id bigint not null,
        specialization_id bigint not null,
        primary key (id)
    )
2025-09-05 17:40:21,144 [main] DEBUG org.hibernate.SQL - [] [] 
    create table training_types (
        id bigint generated by default as identity,
        training_type_name varchar(255) not null unique,
        primary key (id)
    )
2025-09-05 17:40:21,144 [main] DEBUG org.hibernate.SQL - [] [] 
    create table trainings (
        training_date date not null,
        training_duration integer not null,
        id bigint generated by default as identity,
        trainee_id bigint not null,
        trainer_id bigint not null,
        training_type_id bigint not null,
        training_name varchar(255) not null,
        primary key (id)
    )
2025-09-05 17:40:21,145 [main] DEBUG org.hibernate.SQL - [] [] 
    create table users (
        is_active boolean not null,
        id bigint generated by default as identity,
        first_name varchar(255) not null,
        last_name varchar(255) not null,
        password varchar(255) not null,
        username varchar(255) not null unique,
        primary key (id)
    )
2025-09-05 17:40:21,145 [main] DEBUG org.hibernate.SQL - [] [] 
    alter table if exists trainee_trainer 
       add constraint FKsis342w57b177o84peanydlrp 
       foreign key (trainer_id) 
       references trainers
2025-09-05 17:40:21,146 [main] DEBUG org.hibernate.SQL - [] [] 
    alter table if exists trainee_trainer 
       add constraint FK27f1le516f824l8owvnc4mvs1 
       foreign key (trainee_id) 
       references trainees
2025-09-05 17:40:21,146 [main] DEBUG org.hibernate.SQL - [] [] 
    alter table if exists trainees 
       add constraint FKmmcvdm376irbqxxp23un1f1sb 
       foreign key (id) 
       references users
2025-09-05 17:40:21,146 [main] DEBUG org.hibernate.SQL - [] [] 
    alter table if exists trainers 
       add constraint FK7cbp7k5ur2e10a5nj424nu1tv 
       foreign key (specialization_id) 
       references training_types
2025-09-05 17:40:21,147 [main] DEBUG org.hibernate.SQL - [] [] 
    alter table if exists trainers 
       add constraint FKfuw99amb6fcrji1245ooioikb 
       foreign key (id) 
       references users
2025-09-05 17:40:21,147 [main] DEBUG org.hibernate.SQL - [] [] 
    alter table if exists trainings 
       add constraint FK4btmw0yu4tbogiw8qi0ewba74 
       foreign key (trainee_id) 
       references trainees
2025-09-05 17:40:21,148 [main] DEBUG org.hibernate.SQL - [] [] 
    alter table if exists trainings 
       add constraint FKbqwj5wievnuonuxv60wg6rr48 
       foreign key (trainer_id) 
       references trainers
2025-09-05 17:40:21,148 [main] DEBUG org.hibernate.SQL - [] [] 
    alter table if exists trainings 
       add constraint FKovn6ewpej7cxhjx55tovddhnj 
       foreign key (training_type_id) 
       references training_types
2025-09-05 17:40:21,149 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - [] [] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-05 17:40:21,177 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        tt1_0.id,
        tt1_0.training_type_name 
    from
        training_types tt1_0 
    where
        tt1_0.training_type_name=?
2025-09-05 17:40:21,182 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        training_types
        (training_type_name, id) 
    values
        (?, default)
2025-09-05 17:40:21,184 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        tt1_0.id,
        tt1_0.training_type_name 
    from
        training_types tt1_0 
    where
        tt1_0.training_type_name=?
2025-09-05 17:40:21,185 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        training_types
        (training_type_name, id) 
    values
        (?, default)
2025-09-05 17:40:21,185 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        tt1_0.id,
        tt1_0.training_type_name 
    from
        training_types tt1_0 
    where
        tt1_0.training_type_name=?
2025-09-05 17:40:21,186 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        training_types
        (training_type_name, id) 
    values
        (?, default)
2025-09-05 17:40:21,187 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        tt1_0.id,
        tt1_0.training_type_name 
    from
        training_types tt1_0 
    where
        tt1_0.training_type_name=?
2025-09-05 17:40:21,187 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        training_types
        (training_type_name, id) 
    values
        (?, default)
2025-09-05 17:40:21,188 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        tt1_0.id,
        tt1_0.training_type_name 
    from
        training_types tt1_0 
    where
        tt1_0.training_type_name=?
2025-09-05 17:40:21,188 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        training_types
        (training_type_name, id) 
    values
        (?, default)
2025-09-05 17:40:21,189 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        tt1_0.id,
        tt1_0.training_type_name 
    from
        training_types tt1_0 
    where
        tt1_0.training_type_name=?
2025-09-05 17:40:21,190 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        training_types
        (training_type_name, id) 
    values
        (?, default)
2025-09-05 17:40:21,191 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        tt1_0.id,
        tt1_0.training_type_name 
    from
        training_types tt1_0 
    where
        tt1_0.training_type_name=?
2025-09-05 17:40:21,192 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        training_types
        (training_type_name, id) 
    values
        (?, default)
2025-09-05 17:40:21,193 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        tt1_0.id,
        tt1_0.training_type_name 
    from
        training_types tt1_0 
    where
        tt1_0.training_type_name=?
2025-09-05 17:40:21,193 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        training_types
        (training_type_name, id) 
    values
        (?, default)
2025-09-05 17:40:21,194 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        count(*) 
    from
        training_types tt1_0
2025-09-05 17:40:21,207 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - [] [] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-05 17:40:21,261 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - [] [] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:gymcrm-local'
2025-09-05 17:40:21,263 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - [] [] Exposing 5 endpoints beneath base path '/actuator'
2025-09-05 17:40:21,286 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.specialization_id 
    from
        trainers t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:40:21,291 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.address,
        t1_0.date_of_birth 
    from
        trainees t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:40:21,292 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        tt1_0.id,
        tt1_0.training_type_name 
    from
        training_types tt1_0 
    where
        tt1_0.training_type_name=?
2025-09-05 17:40:21,304 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id 
    from
        trainers t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.first_name=? 
        and t1_1.last_name=? 
    fetch
        first ? rows only
2025-09-05 17:40:21,310 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        users
        (first_name, is_active, last_name, password, username, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-09-05 17:40:21,311 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        trainers
        (specialization_id, id) 
    values
        (?, ?)
2025-09-05 17:40:21,315 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.specialization_id 
    from
        trainers t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:40:21,321 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        tt1_0.id,
        tt1_0.training_type_name 
    from
        training_types tt1_0 
    where
        tt1_0.training_type_name=?
2025-09-05 17:40:21,323 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id 
    from
        trainers t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.first_name=? 
        and t1_1.last_name=? 
    fetch
        first ? rows only
2025-09-05 17:40:21,324 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        users
        (first_name, is_active, last_name, password, username, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-09-05 17:40:21,324 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        trainers
        (specialization_id, id) 
    values
        (?, ?)
2025-09-05 17:40:21,328 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id 
    from
        trainees t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.first_name=? 
        and t1_1.last_name=? 
    fetch
        first ? rows only
2025-09-05 17:40:21,329 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        users
        (first_name, is_active, last_name, password, username, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-09-05 17:40:21,329 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        trainees
        (address, date_of_birth, id) 
    values
        (?, ?, ?)
2025-09-05 17:40:21,331 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.specialization_id 
    from
        trainers t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:40:21,332 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.address,
        t1_0.date_of_birth 
    from
        trainees t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:40:21,334 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.specialization_id 
    from
        trainers t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:40:21,335 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.specialization_id 
    from
        trainers t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:40:21,336 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.address,
        t1_0.date_of_birth 
    from
        trainees t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:40:21,336 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.specialization_id 
    from
        trainers t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:40:21,337 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.specialization_id 
    from
        trainers t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:40:21,341 [main] DEBUG org.hibernate.SQL - [] [] 
    update
        users 
    set
        first_name=?,
        is_active=?,
        last_name=?,
        password=?,
        username=? 
    where
        id=?
2025-09-05 17:40:21,347 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.address,
        t1_0.date_of_birth 
    from
        trainees t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:40:21,348 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.address,
        t1_0.date_of_birth 
    from
        trainees t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:40:21,350 [main] DEBUG org.hibernate.SQL - [] [] 
    update
        users 
    set
        first_name=?,
        is_active=?,
        last_name=?,
        password=?,
        username=? 
    where
        id=?
2025-09-05 17:40:21,351 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.specialization_id 
    from
        trainers t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:40:21,352 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.address,
        t1_0.date_of_birth 
    from
        trainees t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:40:21,353 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.specialization_id 
    from
        trainers t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:40:21,353 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.specialization_id 
    from
        trainers t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:40:21,355 [main] DEBUG org.hibernate.SQL - [] [] 
    update
        users 
    set
        first_name=?,
        is_active=?,
        last_name=?,
        password=?,
        username=? 
    where
        id=?
2025-09-05 17:40:21,355 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.address,
        t1_0.date_of_birth 
    from
        trainees t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:40:21,356 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.address,
        t1_0.date_of_birth 
    from
        trainees t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:40:21,358 [main] DEBUG org.hibernate.SQL - [] [] 
    update
        trainees 
    set
        address=?,
        date_of_birth=? 
    where
        id=?
2025-09-05 17:40:21,359 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.specialization_id 
    from
        trainers t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:40:21,360 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.specialization_id 
    from
        trainers t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:40:21,361 [main] DEBUG org.hibernate.SQL - [] [] 
    update
        users 
    set
        first_name=?,
        is_active=?,
        last_name=?,
        password=?,
        username=? 
    where
        id=?
2025-09-05 17:40:21,362 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.specialization_id 
    from
        trainers t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:40:21,362 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.specialization_id 
    from
        trainers t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:40:21,363 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.specialization_id 
    from
        trainers t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:40:21,364 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.specialization_id 
    from
        trainers t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:40:21,366 [main] DEBUG org.hibernate.SQL - [] [] 
    update
        users 
    set
        first_name=?,
        is_active=?,
        last_name=?,
        password=?,
        username=? 
    where
        id=?
2025-09-05 17:40:21,366 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.address,
        t1_0.date_of_birth 
    from
        trainees t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:40:21,367 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.address,
        t1_0.date_of_birth 
    from
        trainees t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:40:21,369 [main] DEBUG org.hibernate.SQL - [] [] 
    update
        users 
    set
        first_name=?,
        is_active=?,
        last_name=?,
        password=?,
        username=? 
    where
        id=?
2025-09-05 17:40:21,370 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.address,
        t1_0.date_of_birth 
    from
        trainees t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:40:21,370 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.address,
        t1_0.date_of_birth 
    from
        trainees t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:40:21,371 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.address,
        t1_0.date_of_birth 
    from
        trainees t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:40:21,372 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.address,
        t1_0.date_of_birth 
    from
        trainees t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:40:21,375 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        trainings
        (trainee_id, trainer_id, training_date, training_duration, training_name, training_type_id, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-09-05 17:40:21,378 [main] DEBUG org.hibernate.SQL - [] [] 
    update
        users 
    set
        first_name=?,
        is_active=?,
        last_name=?,
        password=?,
        username=? 
    where
        id=?
2025-09-05 17:40:21,378 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.address,
        t1_0.date_of_birth 
    from
        trainees t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:40:21,379 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.address,
        t1_0.date_of_birth 
    from
        trainees t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:40:21,385 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_0.trainee_id,
        t1_0.trainer_id,
        t1_0.training_date,
        t1_0.training_duration,
        t1_0.training_name,
        t1_0.training_type_id 
    from
        trainings t1_0 
    join
        trainees t2_0 
            on t2_0.id=t1_0.trainee_id 
    left join
        users t2_1 
            on t2_0.id=t2_1.id 
    join
        trainers t3_0 
            on t3_0.id=t1_0.trainer_id 
    left join
        users t3_1 
            on t3_0.id=t3_1.id 
    join
        training_types tt1_0 
            on tt1_0.id=t1_0.training_type_id 
    where
        t2_1.username=? 
        and (
            ? is null 
            or t1_0.training_date>=?
        ) 
        and (
            ? is null 
            or t1_0.training_date<=?
        ) 
        and (
            ? is null 
            or (
                t3_1.first_name||' '||t3_1.last_name
            ) like ? escape ''
        ) 
        and (
            ? is null 
            or tt1_0.training_type_name=?
        )
2025-09-05 17:40:21,388 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.specialization_id 
    from
        trainers t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:40:21,389 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.specialization_id 
    from
        trainers t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:40:21,391 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_0.trainee_id,
        t1_0.trainer_id,
        t1_0.training_date,
        t1_0.training_duration,
        t1_0.training_name,
        t1_0.training_type_id 
    from
        trainings t1_0 
    join
        trainees t2_0 
            on t2_0.id=t1_0.trainee_id 
    left join
        users t2_1 
            on t2_0.id=t2_1.id 
    join
        trainers t3_0 
            on t3_0.id=t1_0.trainer_id 
    left join
        users t3_1 
            on t3_0.id=t3_1.id 
    where
        t3_1.username=? 
        and (
            ? is null 
            or t1_0.training_date>=?
        ) 
        and (
            ? is null 
            or t1_0.training_date<=?
        ) 
        and (
            ? is null 
            or (
                t2_1.first_name||' '||t2_1.last_name
            ) like ? escape ''
        )
2025-09-05 17:40:21,399 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.specialization_id 
    from
        trainers t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_0.id not in (select
            t3_0.trainer_id 
        from
            trainees t2_0 
        join
            users t2_1 
                on t2_0.id=t2_1.id 
        join
            trainee_trainer t3_0 
                on t2_0.id=t3_0.trainee_id 
        join
            trainers t3_1 
                on t3_1.id=t3_0.trainer_id 
        join
            users t3_2 
                on t3_1.id=t3_2.id 
        where
            t2_1.username=?)
2025-09-05 17:40:21,404 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.address,
        t1_0.date_of_birth 
    from
        trainees t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:40:21,405 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.address,
        t1_0.date_of_birth 
    from
        trainees t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:40:21,406 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.specialization_id 
    from
        trainers t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:40:21,408 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.address,
        t1_0.date_of_birth 
    from
        trainees t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:40:21,409 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.address,
        t1_0.date_of_birth 
    from
        trainees t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:40:21,410 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_0.trainee_id,
        t1_0.trainer_id,
        t1_0.training_date,
        t1_0.training_duration,
        t1_0.training_name,
        t1_0.training_type_id 
    from
        trainings t1_0 
    left join
        trainees t2_0 
            on t2_0.id=t1_0.trainee_id 
    left join
        users t2_1 
            on t2_0.id=t2_1.id 
    where
        t2_1.username=?
2025-09-05 17:40:21,413 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.address,
        t1_0.date_of_birth 
    from
        trainees t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:40:21,415 [main] DEBUG org.hibernate.SQL - [] [] 
    delete 
    from
        trainings 
    where
        id=?
2025-09-05 17:40:21,417 [main] DEBUG org.hibernate.SQL - [] [] 
    delete 
    from
        trainees 
    where
        id=?
2025-09-05 17:40:21,417 [main] DEBUG org.hibernate.SQL - [] [] 
    delete 
    from
        users 
    where
        id=?
2025-09-05 17:40:21,417 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        t1_0.id,
        t1_1.first_name,
        t1_1.is_active,
        t1_1.last_name,
        t1_1.password,
        t1_1.username,
        t1_0.address,
        t1_0.date_of_birth 
    from
        trainees t1_0 
    join
        users t1_1 
            on t1_0.id=t1_1.id 
    where
        t1_1.username=?
2025-09-05 17:40:21,422 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        tt1_0.id,
        tt1_0.training_type_name 
    from
        training_types tt1_0
2025-09-05 17:40:21,430 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - [] [] Could not detect default configuration classes for test class [com.gym.crm.controller.TraineeControllerTest]: TraineeControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-05 17:40:21,442 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - [] [] Found @SpringBootConfiguration com.gym.crm.CrmApplication for test class com.gym.crm.controller.TraineeControllerTest
2025-09-05 17:40:21,452 [main] INFO  c.g.c.c.TraineeControllerTest - [] [] Starting TraineeControllerTest using Java 23.0.1 with PID 22009 (started by marlenseiitzhan in /Users/marlenseiitzhan/Desktop/JAVA projects/crm)
2025-09-05 17:40:21,452 [main] DEBUG c.g.c.c.TraineeControllerTest - [] [] Running with Spring Boot v3.5.3, Spring v6.2.8
2025-09-05 17:40:21,452 [main] INFO  c.g.c.c.TraineeControllerTest - [] [] The following 1 profile is active: "local"
2025-09-05 17:40:21,639 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - [] [] Initializing Spring TestDispatcherServlet ''
2025-09-05 17:40:21,639 [main] INFO  o.s.t.w.s.TestDispatcherServlet - [] [] Initializing Servlet ''
2025-09-05 17:40:21,639 [main] INFO  o.s.t.w.s.TestDispatcherServlet - [] [] Completed initialization in 0 ms
2025-09-05 17:40:21,648 [main] INFO  c.g.c.c.TraineeControllerTest - [] [] Started TraineeControllerTest in 0.204 seconds (process running for 5.178)
2025-09-05 17:40:21,681 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-c8ec7804] [] Transaction started [txn-c8ec7804]: POST /api/trainees/register
2025-09-05 17:40:21,713 [main] ERROR c.g.c.e.GlobalExceptionHandler - [txn-c8ec7804] [] Validation error [txn-c8ec7804]: First name is required - uri=/api/trainees/register
2025-09-05 17:40:21,734 [main] ERROR c.g.c.config.TransactionInterceptor - [txn-c8ec7804] [] Transaction completed with error [txn-c8ec7804]: POST /api/trainees/register - Status: 400, Error: HTTP Error
2025-09-05 17:40:21,766 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-aabbe491] [] Transaction started [txn-aabbe491]: GET /api/trainees/john.doe/trainings
2025-09-05 17:40:21,768 [main] INFO  c.g.crm.controller.TraineeController - [txn-aabbe491] [] Getting trainee trainings [txn-aabbe491]: john.doe with filters
2025-09-05 17:40:21,771 [main] INFO  c.g.crm.controller.TraineeController - [txn-aabbe491] [] Retrieved 1 trainings for trainee [txn-aabbe491]: john.doe
2025-09-05 17:40:21,774 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-aabbe491] [] Transaction completed [txn-aabbe491]: GET /api/trainees/john.doe/trainings - Status: 200
2025-09-05 17:40:21,782 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-ff779fc3] [] Transaction started [txn-ff779fc3]: PUT /api/trainees
2025-09-05 17:40:21,786 [main] INFO  c.g.crm.controller.TraineeController - [txn-ff779fc3] [] Updating trainee profile [txn-ff779fc3]: john.doe
2025-09-05 17:40:21,787 [main] INFO  c.g.crm.controller.TraineeController - [txn-ff779fc3] [] Trainee profile updated [txn-ff779fc3]: john.doe
2025-09-05 17:40:21,790 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-ff779fc3] [] Transaction completed [txn-ff779fc3]: PUT /api/trainees - Status: 200
2025-09-05 17:40:21,794 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-8fdb1538] [] Transaction started [txn-8fdb1538]: GET /api/trainees/john.doe
2025-09-05 17:40:21,794 [main] INFO  c.g.crm.controller.TraineeController - [txn-8fdb1538] [] Getting trainee profile [txn-8fdb1538]: john.doe
2025-09-05 17:40:21,794 [main] ERROR c.g.c.e.GlobalExceptionHandler - [txn-8fdb1538] [] Authentication error [txn-8fdb1538]: Invalid credentials - uri=/api/trainees/john.doe
2025-09-05 17:40:21,800 [main] ERROR c.g.c.config.TransactionInterceptor - [txn-8fdb1538] [] Transaction completed with error [txn-8fdb1538]: GET /api/trainees/john.doe - Status: 401, Error: HTTP Error
2025-09-05 17:40:21,809 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-06d21757] [] Transaction started [txn-06d21757]: POST /api/trainees/register
2025-09-05 17:40:21,810 [main] INFO  c.g.crm.controller.TraineeController - [txn-06d21757] [] Registering trainee [txn-06d21757]: John Doe
2025-09-05 17:40:21,810 [main] INFO  c.g.crm.controller.TraineeController - [txn-06d21757] [] Trainee registered successfully [txn-06d21757]: john.doe
2025-09-05 17:40:21,811 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-06d21757] [] Transaction completed [txn-06d21757]: POST /api/trainees/register - Status: 200
2025-09-05 17:40:21,815 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-9d50c112] [] Transaction started [txn-9d50c112]: PATCH /api/trainees/activate
2025-09-05 17:40:21,818 [main] INFO  c.g.crm.controller.TraineeController - [txn-9d50c112] [] Changing trainee activation status [txn-9d50c112]: john.doe to false
2025-09-05 17:40:21,818 [main] INFO  c.g.crm.controller.TraineeController - [txn-9d50c112] [] Trainee activation status changed [txn-9d50c112]: john.doe
2025-09-05 17:40:21,818 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-9d50c112] [] Transaction completed [txn-9d50c112]: PATCH /api/trainees/activate - Status: 200
2025-09-05 17:40:21,821 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-b9de4e19] [] Transaction started [txn-b9de4e19]: PATCH /api/trainees/activate
2025-09-05 17:40:21,822 [main] INFO  c.g.crm.controller.TraineeController - [txn-b9de4e19] [] Changing trainee activation status [txn-b9de4e19]: john.doe to false
2025-09-05 17:40:21,822 [main] ERROR c.g.c.e.GlobalExceptionHandler - [txn-b9de4e19] [] Bad request [txn-b9de4e19]: User is already in the desired state or authentication failed - uri=/api/trainees/activate
2025-09-05 17:40:21,823 [main] ERROR c.g.c.config.TransactionInterceptor - [txn-b9de4e19] [] Transaction completed with error [txn-b9de4e19]: PATCH /api/trainees/activate - Status: 400, Error: HTTP Error
2025-09-05 17:40:21,832 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-df55fec4] [] Transaction started [txn-df55fec4]: PUT /api/trainees/trainers
2025-09-05 17:40:21,837 [main] INFO  c.g.crm.controller.TraineeController - [txn-df55fec4] [] Updating trainee trainer list [txn-df55fec4]: john.doe
2025-09-05 17:40:21,837 [main] INFO  c.g.crm.controller.TraineeController - [txn-df55fec4] [] Trainee trainer list updated [txn-df55fec4]: 1 trainers
2025-09-05 17:40:21,837 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-df55fec4] [] Transaction completed [txn-df55fec4]: PUT /api/trainees/trainers - Status: 200
2025-09-05 17:40:21,841 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-b24dd3a9] [] Transaction started [txn-b24dd3a9]: DELETE /api/trainees/john.doe
2025-09-05 17:40:21,841 [main] INFO  c.g.crm.controller.TraineeController - [txn-b24dd3a9] [] Deleting trainee profile [txn-b24dd3a9]: john.doe
2025-09-05 17:40:21,841 [main] INFO  c.g.crm.controller.TraineeController - [txn-b24dd3a9] [] Trainee profile deleted [txn-b24dd3a9]: john.doe
2025-09-05 17:40:21,842 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-b24dd3a9] [] Transaction completed [txn-b24dd3a9]: DELETE /api/trainees/john.doe - Status: 200
2025-09-05 17:40:21,846 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-cf90c82d] [] Transaction started [txn-cf90c82d]: GET /api/trainees/john.doe
2025-09-05 17:40:21,846 [main] INFO  c.g.crm.controller.TraineeController - [txn-cf90c82d] [] Getting trainee profile [txn-cf90c82d]: john.doe
2025-09-05 17:40:21,847 [main] INFO  c.g.crm.controller.TraineeController - [txn-cf90c82d] [] Trainee profile retrieved [txn-cf90c82d]: john.doe
2025-09-05 17:40:21,849 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-cf90c82d] [] Transaction completed [txn-cf90c82d]: GET /api/trainees/john.doe - Status: 200
2025-09-05 17:40:21,853 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - [] [] Could not detect default configuration classes for test class [com.gym.crm.controller.GymControllerTest]: GymControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-05 17:40:21,858 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - [] [] Found @SpringBootConfiguration com.gym.crm.CrmApplication for test class com.gym.crm.controller.GymControllerTest
2025-09-05 17:40:21,870 [main] INFO  c.g.crm.controller.GymControllerTest - [] [] Starting GymControllerTest using Java 23.0.1 with PID 22009 (started by marlenseiitzhan in /Users/marlenseiitzhan/Desktop/JAVA projects/crm)
2025-09-05 17:40:21,870 [main] DEBUG c.g.crm.controller.GymControllerTest - [] [] Running with Spring Boot v3.5.3, Spring v6.2.8
2025-09-05 17:40:21,870 [main] INFO  c.g.crm.controller.GymControllerTest - [] [] The following 1 profile is active: "local"
2025-09-05 17:40:21,957 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - [] [] Initializing Spring TestDispatcherServlet ''
2025-09-05 17:40:21,957 [main] INFO  o.s.t.w.s.TestDispatcherServlet - [] [] Initializing Servlet ''
2025-09-05 17:40:21,957 [main] INFO  o.s.t.w.s.TestDispatcherServlet - [] [] Completed initialization in 0 ms
2025-09-05 17:40:21,962 [main] INFO  c.g.crm.controller.GymControllerTest - [] [] Started GymControllerTest in 0.102 seconds (process running for 5.492)
2025-09-05 17:40:21,966 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-8a13e275] [] Transaction started [txn-8a13e275]: POST /api/trainings
2025-09-05 17:40:21,970 [main] INFO  c.gym.crm.controller.GymController - [txn-8a13e275] [] Adding training [txn-8a13e275]: Morning Workout between nonexistent and jane.smith
2025-09-05 17:40:21,971 [main] ERROR c.g.c.e.GlobalExceptionHandler - [txn-8a13e275] [] Bad request [txn-8a13e275]: Trainee not found: nonexistent - uri=/api/trainings
2025-09-05 17:40:21,973 [main] ERROR c.g.c.config.TransactionInterceptor - [txn-8a13e275] [] Transaction completed with error [txn-8a13e275]: POST /api/trainings - Status: 400, Error: HTTP Error
2025-09-05 17:40:21,976 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-aef86259] [] Transaction started [txn-aef86259]: GET /api/training-types
2025-09-05 17:40:21,976 [main] INFO  c.gym.crm.controller.GymController - [txn-aef86259] [] Getting training types [txn-aef86259]
2025-09-05 17:40:21,977 [main] INFO  c.gym.crm.controller.GymController - [txn-aef86259] [] Retrieved 2 training types [txn-aef86259]
2025-09-05 17:40:21,978 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-aef86259] [] Transaction completed [txn-aef86259]: GET /api/training-types - Status: 200
2025-09-05 17:40:21,981 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-5fcb6a6d] [] Transaction started [txn-5fcb6a6d]: GET /api/login
2025-09-05 17:40:21,984 [main] INFO  c.gym.crm.controller.GymController - [txn-5fcb6a6d] [] User login attempt [txn-5fcb6a6d]: john.doe
2025-09-05 17:40:21,985 [main] INFO  c.gym.crm.controller.GymController - [txn-5fcb6a6d] [] User login successful [txn-5fcb6a6d]: john.doe
2025-09-05 17:40:21,985 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-5fcb6a6d] [] Transaction completed [txn-5fcb6a6d]: GET /api/login - Status: 200
2025-09-05 17:40:21,988 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-f0aae895] [] Transaction started [txn-f0aae895]: POST /api/trainings
2025-09-05 17:40:21,989 [main] INFO  c.gym.crm.controller.GymController - [txn-f0aae895] [] Adding training [txn-f0aae895]: Morning Workout between john.doe and jane.smith
2025-09-05 17:40:21,989 [main] INFO  c.gym.crm.controller.GymController - [txn-f0aae895] [] Training added successfully [txn-f0aae895]: Morning Workout
2025-09-05 17:40:21,989 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-f0aae895] [] Transaction completed [txn-f0aae895]: POST /api/trainings - Status: 200
2025-09-05 17:40:21,992 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-969257e3] [] Transaction started [txn-969257e3]: GET /api/login
2025-09-05 17:40:21,992 [main] INFO  c.gym.crm.controller.GymController - [txn-969257e3] [] User login attempt [txn-969257e3]: john.doe
2025-09-05 17:40:21,992 [main] ERROR c.g.c.e.GlobalExceptionHandler - [txn-969257e3] [] Authentication error [txn-969257e3]: Invalid credentials - uri=/api/login
2025-09-05 17:40:21,993 [main] ERROR c.g.c.config.TransactionInterceptor - [txn-969257e3] [] Transaction completed with error [txn-969257e3]: GET /api/login - Status: 401, Error: HTTP Error
2025-09-05 17:40:21,996 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-bd8a5051] [] Transaction started [txn-bd8a5051]: PUT /api/change-password
2025-09-05 17:40:21,998 [main] INFO  c.gym.crm.controller.GymController - [txn-bd8a5051] [] Password change request [txn-bd8a5051]: john.doe
2025-09-05 17:40:21,999 [main] ERROR c.g.c.e.GlobalExceptionHandler - [txn-bd8a5051] [] Authentication error [txn-bd8a5051]: Invalid credentials or user not found - uri=/api/change-password
2025-09-05 17:40:22,000 [main] ERROR c.g.c.config.TransactionInterceptor - [txn-bd8a5051] [] Transaction completed with error [txn-bd8a5051]: PUT /api/change-password - Status: 401, Error: HTTP Error
2025-09-05 17:40:22,003 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-4487a8d7] [] Transaction started [txn-4487a8d7]: GET /api/login
2025-09-05 17:40:22,003 [main] INFO  c.gym.crm.controller.GymController - [txn-4487a8d7] [] User login attempt [txn-4487a8d7]: jane.smith
2025-09-05 17:40:22,003 [main] INFO  c.gym.crm.controller.GymController - [txn-4487a8d7] [] User login successful [txn-4487a8d7]: jane.smith
2025-09-05 17:40:22,004 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-4487a8d7] [] Transaction completed [txn-4487a8d7]: GET /api/login - Status: 200
2025-09-05 17:40:22,006 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-1fb94f43] [] Transaction started [txn-1fb94f43]: PUT /api/change-password
2025-09-05 17:40:22,007 [main] INFO  c.gym.crm.controller.GymController - [txn-1fb94f43] [] Password change request [txn-1fb94f43]: john.doe
2025-09-05 17:40:22,007 [main] INFO  c.gym.crm.controller.GymController - [txn-1fb94f43] [] Password changed successfully [txn-1fb94f43]: john.doe
2025-09-05 17:40:22,007 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-1fb94f43] [] Transaction completed [txn-1fb94f43]: PUT /api/change-password - Status: 200
2025-09-05 17:40:22,011 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-295a14b7] [] Transaction started [txn-295a14b7]: PUT /api/change-password
2025-09-05 17:40:22,011 [main] INFO  c.gym.crm.controller.GymController - [txn-295a14b7] [] Password change request [txn-295a14b7]: jane.smith
2025-09-05 17:40:22,011 [main] INFO  c.gym.crm.controller.GymController - [txn-295a14b7] [] Password changed successfully [txn-295a14b7]: jane.smith
2025-09-05 17:40:22,011 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-295a14b7] [] Transaction completed [txn-295a14b7]: PUT /api/change-password - Status: 200
2025-09-05 17:40:22,013 [main] INFO  c.g.c.config.TransactionInterceptor - [txn-441e02a0] [] Transaction started [txn-441e02a0]: POST /api/trainings
2025-09-05 17:40:22,014 [main] ERROR c.g.c.e.GlobalExceptionHandler - [txn-441e02a0] [] Validation error [txn-441e02a0]: Trainee username is required - uri=/api/trainings
2025-09-05 17:40:22,015 [main] ERROR c.g.c.config.TransactionInterceptor - [txn-441e02a0] [] Transaction completed with error [txn-441e02a0]: POST /api/trainings - Status: 400, Error: HTTP Error
2025-09-05 17:40:22,020 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - [] [] Could not detect default configuration classes for test class [com.gym.crm.actuator.ActuatorEndpointsTest]: ActuatorEndpointsTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-05 17:40:22,024 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - [] [] Found @SpringBootConfiguration com.gym.crm.CrmApplication for test class com.gym.crm.actuator.ActuatorEndpointsTest
2025-09-05 17:40:22,036 [main] INFO  c.g.c.actuator.ActuatorEndpointsTest - [] [] Starting ActuatorEndpointsTest using Java 23.0.1 with PID 22009 (started by marlenseiitzhan in /Users/marlenseiitzhan/Desktop/JAVA projects/crm)
2025-09-05 17:40:22,037 [main] INFO  c.g.c.actuator.ActuatorEndpointsTest - [] [] The following 1 profile is active: "test"
2025-09-05 17:40:22,144 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - [] [] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-05 17:40:22,150 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - [] [] Finished Spring Data repository scanning in 5 ms. Found 5 JPA repository interfaces.
2025-09-05 17:40:22,258 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - [] [] Tomcat initialized with port 0 (http)
2025-09-05 17:40:22,292 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - [] [] Root WebApplicationContext: initialization completed in 253 ms
2025-09-05 17:40:22,347 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - [] [] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-05 17:40:22,348 [main] WARN  org.hibernate.orm.deprecation - [] [] HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-05 17:40:22,377 [main] DEBUG org.hibernate.SQL - [] [] create global temporary table HTE_users(date_of_birth date, is_active boolean, HTE_IDENTITY bigint generated by default as identity, id bigint, address varchar(255), first_name varchar(255), last_name varchar(255), password varchar(255), username varchar(255), primary key (HTE_IDENTITY)) TRANSACTIONAL
2025-09-05 17:40:22,378 [main] DEBUG org.hibernate.SQL - [] [] create global temporary table HT_trainers(id bigint not null, primary key (id)) TRANSACTIONAL
2025-09-05 17:40:22,378 [main] DEBUG org.hibernate.SQL - [] [] create global temporary table HTE_trainers(is_active boolean, HTE_IDENTITY bigint generated by default as identity, id bigint, specialization_id bigint, first_name varchar(255), last_name varchar(255), password varchar(255), username varchar(255), primary key (HTE_IDENTITY)) TRANSACTIONAL
2025-09-05 17:40:22,378 [main] DEBUG org.hibernate.SQL - [] [] create global temporary table HT_trainees(id bigint not null, primary key (id)) TRANSACTIONAL
2025-09-05 17:40:22,379 [main] DEBUG org.hibernate.SQL - [] [] create global temporary table HTE_trainees(date_of_birth date, is_active boolean, HTE_IDENTITY bigint generated by default as identity, id bigint, address varchar(255), first_name varchar(255), last_name varchar(255), password varchar(255), username varchar(255), primary key (HTE_IDENTITY)) TRANSACTIONAL
2025-09-05 17:40:22,379 [main] DEBUG org.hibernate.SQL - [] [] create global temporary table HT_users(id bigint not null, primary key (id)) TRANSACTIONAL
2025-09-05 17:40:22,383 [main] DEBUG org.hibernate.SQL - [] [] drop table if exists trainee_trainer cascade 
2025-09-05 17:40:22,384 [main] DEBUG org.hibernate.SQL - [] [] drop table if exists trainees cascade 
2025-09-05 17:40:22,384 [main] DEBUG org.hibernate.SQL - [] [] drop table if exists trainers cascade 
2025-09-05 17:40:22,385 [main] DEBUG org.hibernate.SQL - [] [] drop table if exists training_types cascade 
2025-09-05 17:40:22,385 [main] DEBUG org.hibernate.SQL - [] [] drop table if exists trainings cascade 
2025-09-05 17:40:22,385 [main] DEBUG org.hibernate.SQL - [] [] drop table if exists users cascade 
2025-09-05 17:40:22,385 [main] DEBUG org.hibernate.SQL - [] [] create table trainee_trainer (trainee_id bigint not null, trainer_id bigint not null, primary key (trainee_id, trainer_id))
2025-09-05 17:40:22,386 [main] DEBUG org.hibernate.SQL - [] [] create table trainees (date_of_birth date, id bigint not null, address varchar(255), primary key (id))
2025-09-05 17:40:22,386 [main] DEBUG org.hibernate.SQL - [] [] create table trainers (id bigint not null, specialization_id bigint not null, primary key (id))
2025-09-05 17:40:22,386 [main] DEBUG org.hibernate.SQL - [] [] create table training_types (id bigint generated by default as identity, training_type_name varchar(255) not null unique, primary key (id))
2025-09-05 17:40:22,387 [main] DEBUG org.hibernate.SQL - [] [] create table trainings (training_date date not null, training_duration integer not null, id bigint generated by default as identity, trainee_id bigint not null, trainer_id bigint not null, training_type_id bigint not null, training_name varchar(255) not null, primary key (id))
2025-09-05 17:40:22,387 [main] DEBUG org.hibernate.SQL - [] [] create table users (is_active boolean not null, id bigint generated by default as identity, first_name varchar(255) not null, last_name varchar(255) not null, password varchar(255) not null, username varchar(255) not null unique, primary key (id))
2025-09-05 17:40:22,388 [main] DEBUG org.hibernate.SQL - [] [] alter table if exists trainee_trainer add constraint FKsis342w57b177o84peanydlrp foreign key (trainer_id) references trainers
2025-09-05 17:40:22,388 [main] DEBUG org.hibernate.SQL - [] [] alter table if exists trainee_trainer add constraint FK27f1le516f824l8owvnc4mvs1 foreign key (trainee_id) references trainees
2025-09-05 17:40:22,389 [main] DEBUG org.hibernate.SQL - [] [] alter table if exists trainees add constraint FKmmcvdm376irbqxxp23un1f1sb foreign key (id) references users
2025-09-05 17:40:22,389 [main] DEBUG org.hibernate.SQL - [] [] alter table if exists trainers add constraint FK7cbp7k5ur2e10a5nj424nu1tv foreign key (specialization_id) references training_types
2025-09-05 17:40:22,390 [main] DEBUG org.hibernate.SQL - [] [] alter table if exists trainers add constraint FKfuw99amb6fcrji1245ooioikb foreign key (id) references users
2025-09-05 17:40:22,390 [main] DEBUG org.hibernate.SQL - [] [] alter table if exists trainings add constraint FK4btmw0yu4tbogiw8qi0ewba74 foreign key (trainee_id) references trainees
2025-09-05 17:40:22,391 [main] DEBUG org.hibernate.SQL - [] [] alter table if exists trainings add constraint FKbqwj5wievnuonuxv60wg6rr48 foreign key (trainer_id) references trainers
2025-09-05 17:40:22,391 [main] DEBUG org.hibernate.SQL - [] [] alter table if exists trainings add constraint FKovn6ewpej7cxhjx55tovddhnj foreign key (training_type_id) references training_types
2025-09-05 17:40:22,392 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - [] [] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-05 17:40:22,433 [main] INFO  com.gym.crm.facade.GymCrmFacade - [] [] GymCrmFacade initialized with all services
2025-09-05 17:40:22,435 [main] INFO  c.g.c.s.DataInitializationService - [] [] Initializing database with training types
2025-09-05 17:40:22,436 [main] DEBUG org.hibernate.SQL - [] [] select tt1_0.id,tt1_0.training_type_name from training_types tt1_0 where tt1_0.training_type_name=?
2025-09-05 17:40:22,441 [main] DEBUG org.hibernate.SQL - [] [] insert into training_types (training_type_name,id) values (?,default)
2025-09-05 17:40:22,443 [main] DEBUG org.hibernate.SQL - [] [] select tt1_0.id,tt1_0.training_type_name from training_types tt1_0 where tt1_0.training_type_name=?
2025-09-05 17:40:22,444 [main] DEBUG org.hibernate.SQL - [] [] insert into training_types (training_type_name,id) values (?,default)
2025-09-05 17:40:22,445 [main] DEBUG org.hibernate.SQL - [] [] select tt1_0.id,tt1_0.training_type_name from training_types tt1_0 where tt1_0.training_type_name=?
2025-09-05 17:40:22,445 [main] DEBUG org.hibernate.SQL - [] [] insert into training_types (training_type_name,id) values (?,default)
2025-09-05 17:40:22,446 [main] DEBUG org.hibernate.SQL - [] [] select tt1_0.id,tt1_0.training_type_name from training_types tt1_0 where tt1_0.training_type_name=?
2025-09-05 17:40:22,446 [main] DEBUG org.hibernate.SQL - [] [] insert into training_types (training_type_name,id) values (?,default)
2025-09-05 17:40:22,447 [main] DEBUG org.hibernate.SQL - [] [] select tt1_0.id,tt1_0.training_type_name from training_types tt1_0 where tt1_0.training_type_name=?
2025-09-05 17:40:22,447 [main] DEBUG org.hibernate.SQL - [] [] insert into training_types (training_type_name,id) values (?,default)
2025-09-05 17:40:22,448 [main] DEBUG org.hibernate.SQL - [] [] select tt1_0.id,tt1_0.training_type_name from training_types tt1_0 where tt1_0.training_type_name=?
2025-09-05 17:40:22,448 [main] DEBUG org.hibernate.SQL - [] [] insert into training_types (training_type_name,id) values (?,default)
2025-09-05 17:40:22,449 [main] DEBUG org.hibernate.SQL - [] [] select tt1_0.id,tt1_0.training_type_name from training_types tt1_0 where tt1_0.training_type_name=?
2025-09-05 17:40:22,450 [main] DEBUG org.hibernate.SQL - [] [] insert into training_types (training_type_name,id) values (?,default)
2025-09-05 17:40:22,451 [main] DEBUG org.hibernate.SQL - [] [] select tt1_0.id,tt1_0.training_type_name from training_types tt1_0 where tt1_0.training_type_name=?
2025-09-05 17:40:22,451 [main] DEBUG org.hibernate.SQL - [] [] insert into training_types (training_type_name,id) values (?,default)
2025-09-05 17:40:22,452 [main] DEBUG org.hibernate.SQL - [] [] select count(*) from training_types tt1_0
2025-09-05 17:40:22,453 [main] INFO  c.g.c.s.DataInitializationService - [] [] Training types initialization completed. Total types: 8
2025-09-05 17:40:22,466 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - [] [] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-05 17:40:22,556 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - [] [] Exposing 5 endpoints beneath base path '/actuator'
2025-09-05 17:40:22,670 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - [] [] Tomcat started on port 49263 (http) with context path '/'
2025-09-05 17:40:22,679 [main] INFO  c.g.c.actuator.ActuatorEndpointsTest - [] [] Started ActuatorEndpointsTest in 0.654 seconds (process running for 6.209)
2025-09-05 17:40:22,740 [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet - [] [] Initializing Servlet 'dispatcherServlet'
2025-09-05 17:40:22,741 [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet - [] [] Completed initialization in 1 ms
2025-09-05 17:40:22,884 [http-nio-auto-1-exec-6] INFO  c.g.c.config.TransactionInterceptor - [txn-c7321490] [] Transaction started [txn-c7321490]: GET /actuator/prometheus
2025-09-05 17:40:22,886 [http-nio-auto-1-exec-6] ERROR c.g.c.e.GlobalExceptionHandler - [txn-c7321490] [] Unexpected error [txn-c7321490]: No static resource actuator/prometheus. - uri=/actuator/prometheus
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource actuator/prometheus.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-09-05 17:40:22,889 [http-nio-auto-1-exec-6] ERROR c.g.c.config.TransactionInterceptor - [txn-c7321490] [] Transaction completed with error [txn-c7321490]: GET /actuator/prometheus - Status: 500, Error: HTTP Error
2025-09-05 17:40:23,028 [main] INFO  c.g.c.service.AuthenticationService - [] [] Trainee authentication successful for username: alice.johnson
2025-09-05 17:40:23,030 [main] WARN  c.g.c.service.AuthenticationService - [] [] Trainer authentication failed for username: john.doe
2025-09-05 17:40:23,031 [main] INFO  c.g.c.service.AuthenticationService - [] [] Trainer authentication successful for username: john.doe
2025-09-05 17:40:23,033 [main] WARN  c.g.c.service.AuthenticationService - [] [] Trainer authentication failed for username: nonexistent
2025-09-05 17:40:23,033 [main] INFO  c.g.c.service.AuthenticationService - [] [] Trainer authentication successful for username: john.doe
2025-09-05 17:40:23,034 [main] INFO  c.g.c.service.AuthenticationService - [] [] Trainee authentication successful for username: alice.johnson
2025-09-05 17:40:23,036 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - [] [] Could not detect default configuration classes for test class [com.gym.crm.logging.LoggingEnhancementTest]: LoggingEnhancementTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-09-05 17:40:23,038 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - [] [] Found @SpringBootConfiguration com.gym.crm.CrmApplication for test class com.gym.crm.logging.LoggingEnhancementTest
2025-09-05 17:40:23,042 [main] INFO  com.gym.crm.service.AuditService - [] [] AUDIT_PROFILE_UPDATE [null]: TRAINER profile updated: updateuser - Changes: {firstName=NewFirstName, isActive=true}
2025-09-05 17:40:23,045 [main] INFO  com.gym.crm.service.AuditService - [] [] AUDIT_AUTH_SUCCESS [null]: User 'testuser' authenticated successfully from web
2025-09-05 17:40:23,048 [main] INFO  com.gym.crm.service.AuditService - [] [] AUDIT_TRAINING_CREATED [null]: Training 'Morning Workout' created - Trainee: trainee1, Trainer: trainer1
2025-09-05 17:40:23,051 [main] INFO  com.gym.crm.service.AuditService - [] [] AUDIT_ACCOUNT_STATUS [null]: TRAINEE account activated for user: statususer
2025-09-05 17:40:23,051 [main] INFO  com.gym.crm.service.AuditService - [] [] AUDIT_ACCOUNT_STATUS [null]: TRAINEE account deactivated for user: statususer
2025-09-05 17:40:23,054 [main] INFO  com.gym.crm.service.AuditService - [] [] AUDIT_USER_REGISTRATION [null]: New TRAINEE registered: newuser
2025-09-05 17:40:23,057 [main] WARN  com.gym.crm.service.AuditService - [] [] AUDIT_ACCOUNT_DELETION [null]: TRAINER account deleted: deleteuser
2025-09-05 17:40:23,062 [main] INFO  com.gym.crm.service.AuditService - [] [] AUDIT_PASSWORD_CHANGE [null]: Password changed for user: passworduser
2025-09-05 17:40:23,071 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - [] [] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-05 17:40:23,072 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists trainee_trainer cascade 
2025-09-05 17:40:23,072 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists trainees cascade 
2025-09-05 17:40:23,073 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists trainers cascade 
2025-09-05 17:40:23,073 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists training_types cascade 
2025-09-05 17:40:23,073 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists trainings cascade 
2025-09-05 17:40:23,073 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists users cascade 
2025-09-05 17:40:23,078 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - [] [] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-05 17:40:23,078 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] drop table if exists trainee_trainer cascade 
2025-09-05 17:40:23,078 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] drop table if exists trainees cascade 
2025-09-05 17:40:23,078 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] drop table if exists trainers cascade 
2025-09-05 17:40:23,078 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] drop table if exists training_types cascade 
2025-09-05 17:40:23,079 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] drop table if exists trainings cascade 
2025-09-05 17:40:23,079 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] drop table if exists users cascade 
2025-09-05 17:40:23,081 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - [] [] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-05 17:40:23,081 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists trainee_trainer cascade 
2025-09-05 17:40:23,081 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists trainees cascade 
2025-09-05 17:40:23,081 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists trainers cascade 
2025-09-05 17:40:23,081 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists training_types cascade 
2025-09-05 17:40:23,081 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists trainings cascade 
2025-09-05 17:40:23,081 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists users cascade 
2025-09-05 17:40:23,084 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - [] [] Commencing graceful shutdown. Waiting for active requests to complete
2025-09-05 17:40:25,091 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - [] [] Graceful shutdown complete
2025-09-05 17:40:25,093 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - [] [] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-05 17:40:25,094 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] drop table if exists trainee_trainer cascade 
2025-09-05 17:40:25,094 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] drop table if exists trainees cascade 
2025-09-05 17:40:25,094 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] drop table if exists trainers cascade 
2025-09-05 17:40:25,094 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] drop table if exists training_types cascade 
2025-09-05 17:40:25,094 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] drop table if exists trainings cascade 
2025-09-05 17:40:25,094 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] drop table if exists users cascade 
2025-09-05 18:40:01,811 [main] INFO  com.gym.crm.CrmApplication - [] [] Starting CrmApplication using Java 23.0.1 with PID 27460 (/Users/marlenseiitzhan/Desktop/JAVA projects/crm/target/classes started by marlenseiitzhan in /Users/marlenseiitzhan/Desktop/JAVA projects/crm)
2025-09-05 18:40:01,812 [main] DEBUG com.gym.crm.CrmApplication - [] [] Running with Spring Boot v3.5.3, Spring v6.2.8
2025-09-05 18:40:01,812 [main] INFO  com.gym.crm.CrmApplication - [] [] The following 1 profile is active: "local"
2025-09-05 18:40:02,316 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - [] [] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-05 18:40:02,351 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - [] [] Finished Spring Data repository scanning in 30 ms. Found 5 JPA repository interfaces.
2025-09-05 18:40:02,559 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - [] [] Tomcat initialized with port 8080 (http)
2025-09-05 18:40:02,586 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - [] [] Root WebApplicationContext: initialization completed in 745 ms
2025-09-05 18:40:02,832 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - [] [] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-05 18:40:02,842 [main] INFO  com.zaxxer.hikari.HikariDataSource - [] [] HikariPool-1 - Starting...
2025-09-05 18:40:02,912 [main] INFO  com.zaxxer.hikari.pool.HikariPool - [] [] HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:gymcrm-local user=SA
2025-09-05 18:40:02,913 [main] INFO  com.zaxxer.hikari.HikariDataSource - [] [] HikariPool-1 - Start completed.
2025-09-05 18:40:02,922 [main] WARN  org.hibernate.orm.deprecation - [] [] HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-05 18:40:03,282 [main] DEBUG org.hibernate.SQL - [] [] 
    create global temporary table HTE_users(date_of_birth date, is_active boolean, HTE_IDENTITY bigint generated 
by
    default as identity, id bigint, address varchar(255), first_name varchar(255), last_name varchar(255), password varchar(255), username varchar(255), primary key (HTE_IDENTITY)) TRANSACTIONAL
2025-09-05 18:40:03,288 [main] DEBUG org.hibernate.SQL - [] [] 
    create global temporary table HT_trainers(id bigint not null, primary key (id)) TRANSACTIONAL
2025-09-05 18:40:03,289 [main] DEBUG org.hibernate.SQL - [] [] 
    create global temporary table HTE_trainers(is_active boolean, HTE_IDENTITY bigint generated 
by
    default as identity, id bigint, specialization_id bigint, first_name varchar(255), last_name varchar(255), password varchar(255), username varchar(255), primary key (HTE_IDENTITY)) TRANSACTIONAL
2025-09-05 18:40:03,290 [main] DEBUG org.hibernate.SQL - [] [] 
    create global temporary table HT_trainees(id bigint not null, primary key (id)) TRANSACTIONAL
2025-09-05 18:40:03,290 [main] DEBUG org.hibernate.SQL - [] [] 
    create global temporary table HTE_trainees(date_of_birth date, is_active boolean, HTE_IDENTITY bigint generated 
by
    default as identity, id bigint, address varchar(255), first_name varchar(255), last_name varchar(255), password varchar(255), username varchar(255), primary key (HTE_IDENTITY)) TRANSACTIONAL
2025-09-05 18:40:03,291 [main] DEBUG org.hibernate.SQL - [] [] 
    create global temporary table HT_users(id bigint not null, primary key (id)) TRANSACTIONAL
2025-09-05 18:40:03,357 [main] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists trainee_trainer cascade 
2025-09-05 18:40:03,357 [main] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists trainees cascade 
2025-09-05 18:40:03,357 [main] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists trainers cascade 
2025-09-05 18:40:03,357 [main] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists training_types cascade 
2025-09-05 18:40:03,357 [main] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists trainings cascade 
2025-09-05 18:40:03,357 [main] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists users cascade 
2025-09-05 18:40:03,359 [main] DEBUG org.hibernate.SQL - [] [] 
    create table trainee_trainer (
        trainee_id bigint not null,
        trainer_id bigint not null,
        primary key (trainee_id, trainer_id)
    )
2025-09-05 18:40:03,360 [main] DEBUG org.hibernate.SQL - [] [] 
    create table trainees (
        date_of_birth date,
        id bigint not null,
        address varchar(255),
        primary key (id)
    )
2025-09-05 18:40:03,360 [main] DEBUG org.hibernate.SQL - [] [] 
    create table trainers (
        id bigint not null,
        specialization_id bigint not null,
        primary key (id)
    )
2025-09-05 18:40:03,361 [main] DEBUG org.hibernate.SQL - [] [] 
    create table training_types (
        id bigint generated by default as identity,
        training_type_name varchar(255) not null unique,
        primary key (id)
    )
2025-09-05 18:40:03,362 [main] DEBUG org.hibernate.SQL - [] [] 
    create table trainings (
        training_date date not null,
        training_duration integer not null,
        id bigint generated by default as identity,
        trainee_id bigint not null,
        trainer_id bigint not null,
        training_type_id bigint not null,
        training_name varchar(255) not null,
        primary key (id)
    )
2025-09-05 18:40:03,362 [main] DEBUG org.hibernate.SQL - [] [] 
    create table users (
        is_active boolean not null,
        id bigint generated by default as identity,
        first_name varchar(255) not null,
        last_name varchar(255) not null,
        password varchar(255) not null,
        username varchar(255) not null unique,
        primary key (id)
    )
2025-09-05 18:40:03,363 [main] DEBUG org.hibernate.SQL - [] [] 
    alter table if exists trainee_trainer 
       add constraint FKsis342w57b177o84peanydlrp 
       foreign key (trainer_id) 
       references trainers
2025-09-05 18:40:03,371 [main] DEBUG org.hibernate.SQL - [] [] 
    alter table if exists trainee_trainer 
       add constraint FK27f1le516f824l8owvnc4mvs1 
       foreign key (trainee_id) 
       references trainees
2025-09-05 18:40:03,372 [main] DEBUG org.hibernate.SQL - [] [] 
    alter table if exists trainees 
       add constraint FKmmcvdm376irbqxxp23un1f1sb 
       foreign key (id) 
       references users
2025-09-05 18:40:03,373 [main] DEBUG org.hibernate.SQL - [] [] 
    alter table if exists trainers 
       add constraint FK7cbp7k5ur2e10a5nj424nu1tv 
       foreign key (specialization_id) 
       references training_types
2025-09-05 18:40:03,373 [main] DEBUG org.hibernate.SQL - [] [] 
    alter table if exists trainers 
       add constraint FKfuw99amb6fcrji1245ooioikb 
       foreign key (id) 
       references users
2025-09-05 18:40:03,374 [main] DEBUG org.hibernate.SQL - [] [] 
    alter table if exists trainings 
       add constraint FK4btmw0yu4tbogiw8qi0ewba74 
       foreign key (trainee_id) 
       references trainees
2025-09-05 18:40:03,375 [main] DEBUG org.hibernate.SQL - [] [] 
    alter table if exists trainings 
       add constraint FKbqwj5wievnuonuxv60wg6rr48 
       foreign key (trainer_id) 
       references trainers
2025-09-05 18:40:03,375 [main] DEBUG org.hibernate.SQL - [] [] 
    alter table if exists trainings 
       add constraint FKovn6ewpej7cxhjx55tovddhnj 
       foreign key (training_type_id) 
       references training_types
2025-09-05 18:40:03,378 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - [] [] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-05 18:40:03,542 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - [] [] Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-05 18:40:04,203 [main] INFO  com.gym.crm.facade.GymCrmFacade - [] [] GymCrmFacade initialized with all services
2025-09-05 18:40:04,211 [main] INFO  c.g.c.s.DataInitializationService - [] [] Initializing database with training types
2025-09-05 18:40:04,263 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        tt1_0.id,
        tt1_0.training_type_name 
    from
        training_types tt1_0 
    where
        tt1_0.training_type_name=?
2025-09-05 18:40:04,302 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        training_types
        (training_type_name, id) 
    values
        (?, default)
2025-09-05 18:40:04,310 [main] DEBUG c.g.c.s.DataInitializationService - [] [] Created training type: Fitness
2025-09-05 18:40:04,310 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        tt1_0.id,
        tt1_0.training_type_name 
    from
        training_types tt1_0 
    where
        tt1_0.training_type_name=?
2025-09-05 18:40:04,311 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        training_types
        (training_type_name, id) 
    values
        (?, default)
2025-09-05 18:40:04,312 [main] DEBUG c.g.c.s.DataInitializationService - [] [] Created training type: Yoga
2025-09-05 18:40:04,313 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        tt1_0.id,
        tt1_0.training_type_name 
    from
        training_types tt1_0 
    where
        tt1_0.training_type_name=?
2025-09-05 18:40:04,314 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        training_types
        (training_type_name, id) 
    values
        (?, default)
2025-09-05 18:40:04,315 [main] DEBUG c.g.c.s.DataInitializationService - [] [] Created training type: CrossFit
2025-09-05 18:40:04,315 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        tt1_0.id,
        tt1_0.training_type_name 
    from
        training_types tt1_0 
    where
        tt1_0.training_type_name=?
2025-09-05 18:40:04,316 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        training_types
        (training_type_name, id) 
    values
        (?, default)
2025-09-05 18:40:04,317 [main] DEBUG c.g.c.s.DataInitializationService - [] [] Created training type: Pilates
2025-09-05 18:40:04,317 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        tt1_0.id,
        tt1_0.training_type_name 
    from
        training_types tt1_0 
    where
        tt1_0.training_type_name=?
2025-09-05 18:40:04,318 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        training_types
        (training_type_name, id) 
    values
        (?, default)
2025-09-05 18:40:04,318 [main] DEBUG c.g.c.s.DataInitializationService - [] [] Created training type: Cardio
2025-09-05 18:40:04,318 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        tt1_0.id,
        tt1_0.training_type_name 
    from
        training_types tt1_0 
    where
        tt1_0.training_type_name=?
2025-09-05 18:40:04,319 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        training_types
        (training_type_name, id) 
    values
        (?, default)
2025-09-05 18:40:04,319 [main] DEBUG c.g.c.s.DataInitializationService - [] [] Created training type: Strength Training
2025-09-05 18:40:04,320 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        tt1_0.id,
        tt1_0.training_type_name 
    from
        training_types tt1_0 
    where
        tt1_0.training_type_name=?
2025-09-05 18:40:04,321 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        training_types
        (training_type_name, id) 
    values
        (?, default)
2025-09-05 18:40:04,322 [main] DEBUG c.g.c.s.DataInitializationService - [] [] Created training type: Weight Loss
2025-09-05 18:40:04,322 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        tt1_0.id,
        tt1_0.training_type_name 
    from
        training_types tt1_0 
    where
        tt1_0.training_type_name=?
2025-09-05 18:40:04,323 [main] DEBUG org.hibernate.SQL - [] [] 
    insert 
    into
        training_types
        (training_type_name, id) 
    values
        (?, default)
2025-09-05 18:40:04,324 [main] DEBUG c.g.c.s.DataInitializationService - [] [] Created training type: Muscle Building
2025-09-05 18:40:04,334 [main] DEBUG org.hibernate.SQL - [] [] 
    select
        count(*) 
    from
        training_types tt1_0
2025-09-05 18:40:04,335 [main] INFO  c.g.c.s.DataInitializationService - [] [] Training types initialization completed. Total types: 8
2025-09-05 18:40:04,380 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - [] [] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-05 18:40:04,677 [main] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - [] [] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:gymcrm-local'
2025-09-05 18:40:04,686 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - [] [] Exposing 6 endpoints beneath base path '/actuator'
2025-09-05 18:40:04,726 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - [] [] Tomcat started on port 8080 (http) with context path '/'
2025-09-05 18:40:04,735 [main] INFO  com.gym.crm.CrmApplication - [] [] Started CrmApplication in 3.147 seconds (process running for 3.447)
2025-09-05 18:40:04,740 [main] INFO  com.gym.crm.CrmApplication - [] [] Gym CRM Application started successfully!
2025-09-05 18:40:06,402 [RMI TCP Connection(2)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - [] [] Initializing Servlet 'dispatcherServlet'
2025-09-05 18:40:06,403 [RMI TCP Connection(2)-127.0.0.1] INFO  o.s.web.servlet.DispatcherServlet - [] [] Completed initialization in 1 ms
2025-09-05 18:40:29,132 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - [] [] Commencing graceful shutdown. Waiting for active requests to complete
2025-09-05 18:40:31,146 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - [] [] Graceful shutdown complete
2025-09-05 18:40:31,150 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - [] [] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-05 18:40:31,150 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists trainee_trainer cascade 
2025-09-05 18:40:31,151 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists trainees cascade 
2025-09-05 18:40:31,151 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists trainers cascade 
2025-09-05 18:40:31,152 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists training_types cascade 
2025-09-05 18:40:31,152 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists trainings cascade 
2025-09-05 18:40:31,152 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - [] [] 
    drop table if exists users cascade 
2025-09-05 18:40:31,154 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - [] [] HikariPool-1 - Shutdown initiated...
2025-09-05 18:40:31,156 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - [] [] HikariPool-1 - Shutdown completed.
